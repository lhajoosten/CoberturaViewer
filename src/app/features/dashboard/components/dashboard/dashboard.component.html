<div class="dashboard-container">
    <div class="dashboard-header">
        <h1>Coverage Explorer Dashboard</h1>
        <p class="text-secondary">Visualize and analyze your code coverage data</p>
    </div>

    <div class="dashboard-content">
        <!-- Quick Actions -->
        <section class="quick-actions">
            <div class="card action-card" (click)="navigateToUpload()">
                <div class="icon-container">
                    <i class="fas fa-upload"></i>
                </div>
                <h3>Upload Coverage Report</h3>
                <p>Import a Cobertura XML file to analyze coverage</p>
            </div>

            <div class="card action-card" [class.disabled]="!hasData" [routerLink]="hasData ? '/visualization' : null">
                <div class="icon-container">
                    <i class="fas fa-chart-pie"></i>
                </div>
                <h3>Visualize Coverage</h3>
                <p>Explore your coverage data through interactive charts</p>
            </div>

            <div class="card action-card" [class.disabled]="!hasData" [routerLink]="hasData ? '/insights' : null">
                <div class="icon-container">
                    <i class="fas fa-lightbulb"></i>
                </div>
                <h3>Coverage Insights</h3>
                <p>Get actionable insights and improvement suggestions</p>
            </div>
        </section>

        <!-- Recent Files -->
        <section class="recent-files">
            <div class="section-header">
                <h2>Recent Files</h2>
                <a routerLink="/upload" class="view-all">View All</a>
            </div>

            <div class="card file-list-card">
                <div *ngIf="recentFiles.length === 0" class="empty-state">
                    <i class="fas fa-file-alt empty-icon"></i>
                    <p>No recent coverage files</p>
                    <button class="btn-primary" (click)="navigateToUpload()">Upload Coverage Report</button>
                </div>

                <ul *ngIf="recentFiles.length > 0" class="file-list">
                    <li *ngFor="let file of recentFiles" class="file-item" (click)="loadFile(file.name)">
                        <div class="file-icon">
                            <i class="fas fa-file-code"></i>
                        </div>
                        <div class="file-info">
                            <div class="file-name">{{ file.name }}</div>
                            <div class="file-date">{{ file.date | date:'medium' }}</div>
                        </div>
                        <div class="file-coverage"
                            [ngClass]="{'high': file.coverage >= 80, 'medium': file.coverage >= 60 && file.coverage < 80, 'low': file.coverage < 60}">
                            {{ file.coverage.toFixed(1) }}%
                        </div>
                    </li>
                </ul>
            </div>
        </section>

        <!-- Getting Started -->
        <section class="getting-started">
            <div class="card">
                <h2>Getting Started</h2>
                <div class="steps">
                    <div class="step">
                        <div class="step-number">1</div>
                        <div class="step-content">
                            <h4>Upload Coverage Report</h4>
                            <p>Import a Cobertura XML coverage report file generated by your test framework.</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">2</div>
                        <div class="step-content">
                            <h4>Visualize Code Coverage</h4>
                            <p>Explore your code coverage through interactive sunburst and treemap visualizations.</p>
                        </div>
                    </div>
                    <div class="step">
                        <div class="step-number">3</div>
                        <div class="step-content">
                            <h4>Get Insights & Take Action</h4>
                            <p>Receive actionable insights about coverage gaps and improve your test coverage.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
</div>