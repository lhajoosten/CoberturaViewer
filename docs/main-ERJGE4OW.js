import{a as Ci}from"./chunk-USCDP7WL.js";import{c as Si}from"./chunk-YHQDCZRH.js";import{a as w,b as ae,c as _i,d as nn,e as Ae,f as pt,g as We,h as bi}from"./chunk-XKDNGDHY.js";import"./chunk-GTRWXQFM.js";import{b as vi}from"./chunk-4YQF2CO5.js";import{a as Ce}from"./chunk-QU524PU2.js";import"./chunk-QMQTSFHS.js";import"./chunk-FK6H3RFT.js";import{a as pi,b as at,c as lt,d as di,e as ct,f as ui,h as fi,l as hi,m as gi,n as mt,o as yi}from"./chunk-A2KPREJL.js";import{b as te}from"./chunk-D2VIWSGU.js";import{a as st}from"./chunk-XC5NQH5T.js";import{a as ri,b as oi,d as si,e as ai,k as Ve,l as be,m as li,n as ci,o as mi,p as je}from"./chunk-GQYAU5FR.js";import{$ as I,$a as c,$b as ze,Aa as Qn,Ab as Le,Ba as _,C as Un,Da as $n,Db as Zn,Eb as Jn,Fa as F,Hb as $e,Ka as A,M as O,O as W,Pa as L,Qb as ot,Sa as Wn,T as de,U as Qe,Xa as E,Za as _e,Zb as ve,_ as N,_a as Gn,_b as ei,ab as m,ac as ue,bb as S,cb as Yn,db as Xn,dc as ti,eb as en,ec as ni,fb as ie,fc as ii,g as ye,ga as Zt,ha as Kn,hb as P,ib as M,lc as k,nb as re,ob as oe,pb as se,qa as Jt,qb as tn,rb as d,sb as ee,ta as Hn,tb as rt,vb as Pe,wb as xe,xa as qn,xb as Oe,z as jn,za as Bn}from"./chunk-SU5VR5TY.js";import{a as K,c as Vn}from"./chunk-EQDQRRRY.js";var dt=class r{constructor(e,t,n){this.router=e;this.authService=t;this.toastService=n}canActivate(e,t){if(t.url.includes("auth/callback"))return!0;if(this.authService.isLoggedIn()){let n=e.data.roles;return n&&!n.some(o=>this.authService.hasRole(o))?(this.toastService.showError("Access Denied","You do not have permission to access this page."),this.router.navigate(["/dashboard"]),!1):!0}return!t.url.includes("/login")&&!t.url.includes("/auth")&&localStorage.setItem("auth_redirect_url",t.url),this.toastService.showWarning("Authentication Required","Please sign in to access this page."),this.router.navigate(["/login"]),!1}static \u0275fac=function(t){return new(t||r)(de(be),de(te),de(st))};static \u0275prov=W({token:r,factory:r.\u0275fac,providedIn:"root"})};var ft=class r{currentYear=new Date().getFullYear();static \u0275fac=function(t){return new(t||r)};static \u0275cmp=A({type:r,selectors:[["app-about-template"]],decls:20,vars:1,consts:[[1,"about-content"],[1,"version"],[1,"copyright"]],template:function(t,n){t&1&&(c(0,"div",0)(1,"h2"),d(2,"About Coverage Explorer"),m(),c(3,"p",1),d(4,"Version 2.0.0"),m(),c(5,"p"),d(6,"Coverage Explorer is a tool for visualizing and analyzing code coverage data from Cobertura XML reports."),m(),c(7,"h3"),d(8,"Features"),m(),c(9,"ul")(10,"li"),d(11,"Visual representation of code coverage"),m(),c(12,"li"),d(13,"Coverage trend analysis"),m(),c(14,"li"),d(15,"Code highlighting with coverage information"),m(),c(16,"li"),d(17,"Report generation and sharing"),m()(),c(18,"p",2),d(19),m()()),t&2&&(_(19),rt("\xA9 ",n.currentYear," Coverage Explorer Team"))},dependencies:[k],styles:[".about-content[_ngcontent-%COMP%]{padding:1rem}.about-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;color:var(--color-primary)}.about-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:1.5rem;margin-bottom:.5rem}.version[_ngcontent-%COMP%]{font-size:.9rem;color:var(--color-text-secondary);margin-bottom:1.5rem}.copyright[_ngcontent-%COMP%]{margin-top:2rem;font-style:italic}"]})};var ht=class r{static \u0275fac=function(t){return new(t||r)};static \u0275cmp=A({type:r,selectors:[["app-help-template"]],decls:24,vars:0,consts:[[1,"help-content"],["href","#","target","_blank"]],template:function(t,n){t&1&&(c(0,"div",0)(1,"h2"),d(2,"Help"),m(),c(3,"h3"),d(4,"Getting Started"),m(),c(5,"ol")(6,"li"),d(7,"Upload or drag and drop your Cobertura XML file"),m(),c(8,"li"),d(9,"Browse through the coverage report"),m(),c(10,"li"),d(11,"Use filters to focus on specific areas"),m(),c(12,"li"),d(13,"Export or share your analysis"),m()(),c(14,"h3"),d(15,"Need More Help?"),m(),c(16,"p"),d(17,"Visit our "),c(18,"a",1),d(19,"documentation"),m(),d(20," or "),c(21,"a",1),d(22,"contact support"),m(),d(23,"."),m()())},dependencies:[k],styles:[".help-content[_ngcontent-%COMP%]{padding:1rem}.help-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;color:var(--color-primary)}.help-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:1.5rem;margin-bottom:.5rem}.help-content[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]{padding-left:1.5rem}.help-content[_ngcontent-%COMP%]   ol[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{margin-bottom:.5rem}"]})};var gt=class r{static \u0275fac=function(t){return new(t||r)};static \u0275cmp=A({type:r,selectors:[["app-keyboard-shortcuts-template"]],decls:51,vars:0,consts:[[1,"shortcuts-content"],[1,"shortcuts-table"]],template:function(t,n){t&1&&(c(0,"div",0)(1,"h2"),d(2,"Keyboard Shortcuts"),m(),c(3,"table",1)(4,"tr")(5,"th"),d(6,"Key"),m(),c(7,"th"),d(8,"Action"),m()(),c(9,"tr")(10,"td")(11,"kbd"),d(12,"Ctrl"),m(),d(13," + "),c(14,"kbd"),d(15,"O"),m()(),c(16,"td"),d(17,"Open coverage file"),m()(),c(18,"tr")(19,"td")(20,"kbd"),d(21,"Ctrl"),m(),d(22," + "),c(23,"kbd"),d(24,"F"),m()(),c(25,"td"),d(26,"Search in report"),m()(),c(27,"tr")(28,"td")(29,"kbd"),d(30,"Ctrl"),m(),d(31," + "),c(32,"kbd"),d(33,"S"),m()(),c(34,"td"),d(35,"Save report"),m()(),c(36,"tr")(37,"td")(38,"kbd"),d(39,"Ctrl"),m(),d(40," + "),c(41,"kbd"),d(42,"P"),m()(),c(43,"td"),d(44,"Print report"),m()(),c(45,"tr")(46,"td")(47,"kbd"),d(48,"F1"),m()(),c(49,"td"),d(50,"Show help"),m()()()())},dependencies:[k],styles:[".shortcuts-content[_ngcontent-%COMP%]{padding:1rem}.shortcuts-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;color:var(--color-primary)}.shortcuts-table[_ngcontent-%COMP%]{width:100%;border-collapse:collapse;margin:1rem 0}.shortcuts-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .shortcuts-table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{padding:.5rem;text-align:left;border-bottom:1px solid var(--color-border-light)}.shortcuts-table[_ngcontent-%COMP%]   th[_ngcontent-%COMP%]{font-weight:500}.shortcuts-table[_ngcontent-%COMP%]   kbd[_ngcontent-%COMP%]{background-color:var(--color-bg-secondary);border:1px solid var(--color-border-light);border-radius:3px;box-shadow:0 1px 1px #0003;color:var(--color-text-primary);display:inline-block;font-size:.75rem;font-weight:700;line-height:1;padding:.25rem .4rem;white-space:nowrap}"]})};var yt=class r{constructor(e){this.themeStore=e;this.themeStore.isDarkTheme$.subscribe(t=>{this.isDarkTheme=t})}isDarkTheme=!1;highThreshold=80;lowThreshold=50;autoRefresh=!0;showLineNumbers=!0;toggleTheme(){this.themeStore.toggleTheme()}static \u0275fac=function(t){return new(t||r)(F(Ce))};static \u0275cmp=A({type:r,selectors:[["app-settings-template"]],decls:33,vars:5,consts:[[1,"settings-content"],[1,"settings-group"],[1,"setting-item"],[1,"toggle-switch"],["type","checkbox",3,"change","checked"],[1,"toggle-slider"],["for","threshold-high"],["type","number","id","threshold-high","min","0","max","100",3,"ngModelChange","ngModel"],["for","threshold-low"],["type","number","id","threshold-low","min","0","max","100",3,"ngModelChange","ngModel"],["type","checkbox",3,"ngModelChange","ngModel"]],template:function(t,n){t&1&&(c(0,"div",0)(1,"div",1)(2,"h3"),d(3,"Display Settings"),m(),c(4,"div",2)(5,"label",3)(6,"input",4),P("change",function(){return n.toggleTheme()}),m(),S(7,"span",5),d(8," Dark Mode "),m()()(),c(9,"div",1)(10,"h3"),d(11,"Coverage Report Settings"),m(),c(12,"div",2)(13,"label",6),d(14,"High Coverage Threshold (%)"),m(),c(15,"input",7),Oe("ngModelChange",function(o){return xe(n.highThreshold,o)||(n.highThreshold=o),o}),m()(),c(16,"div",2)(17,"label",8),d(18,"Low Coverage Threshold (%)"),m(),c(19,"input",9),Oe("ngModelChange",function(o){return xe(n.lowThreshold,o)||(n.lowThreshold=o),o}),m()()(),c(20,"div",1)(21,"h3"),d(22,"Application Preferences"),m(),c(23,"div",2)(24,"label",3)(25,"input",10),Oe("ngModelChange",function(o){return xe(n.autoRefresh,o)||(n.autoRefresh=o),o}),m(),S(26,"span",5),d(27," Auto-refresh on file changes "),m()(),c(28,"div",2)(29,"label",3)(30,"input",10),Oe("ngModelChange",function(o){return xe(n.showLineNumbers,o)||(n.showLineNumbers=o),o}),m(),S(31,"span",5),d(32," Show line numbers in code view "),m()()()()),t&2&&(_(6),E("checked",n.isDarkTheme),_(9),Pe("ngModel",n.highThreshold),_(4),Pe("ngModel",n.lowThreshold),_(6),Pe("ngModel",n.autoRefresh),_(5),Pe("ngModel",n.showLineNumbers))},dependencies:[k,mt,at,ui,pi,lt,gi,hi,ct],styles:['.settings-content[_ngcontent-%COMP%]{padding:1rem}.settings-group[_ngcontent-%COMP%]{margin-bottom:2rem}.settings-group[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:0;margin-bottom:1rem;font-size:1.1rem;color:var(--color-text-primary);border-bottom:1px solid var(--color-border-light);padding-bottom:.5rem}.settings-group[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]{margin:1rem 0;display:flex;flex-direction:column;gap:.5rem}.settings-group[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-size:.9rem;color:var(--color-text-primary)}.settings-group[_ngcontent-%COMP%]   .setting-item[_ngcontent-%COMP%]   input[type=number][_ngcontent-%COMP%]{max-width:100px;padding:.5rem;border:1px solid var(--color-border-light);border-radius:4px;background-color:var(--color-bg-secondary);color:var(--color-text-primary)}.toggle-switch[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;position:relative;cursor:pointer}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{opacity:0;width:0;height:0}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .toggle-slider[_ngcontent-%COMP%]{background-color:var(--color-primary)}.toggle-switch[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:checked + .toggle-slider[_ngcontent-%COMP%]:before{transform:translate(18px)}.toggle-switch[_ngcontent-%COMP%]   .toggle-slider[_ngcontent-%COMP%]{position:relative;width:40px;height:22px;background-color:var(--color-bg-tertiary);border-radius:22px;transition:all .3s ease}.toggle-switch[_ngcontent-%COMP%]   .toggle-slider[_ngcontent-%COMP%]:before{content:"";position:absolute;height:18px;width:18px;left:2px;bottom:2px;background-color:#fff;border-radius:50%;transition:all .3s ease}']})};var _t=class r{static \u0275fac=function(t){return new(t||r)};static \u0275cmp=A({type:r,selectors:[["app-changelog-template"]],decls:33,vars:0,consts:[[1,"changelog-content"],[1,"update-info"]],template:function(t,n){t&1&&(c(0,"div",0)(1,"h2"),d(2,"What's New in Version 2.0.0"),m(),c(3,"p",1),d(4,"Major update from v1.3.0"),m(),c(5,"h3"),d(6,"New Features"),m(),c(7,"ul")(8,"li"),d(9,"Completely redesigned UI for better usability"),m(),c(10,"li"),d(11,"Dark mode support"),m(),c(12,"li"),d(13,"Advanced filtering capabilities"),m(),c(14,"li"),d(15,"Coverage trend visualization"),m(),c(16,"li"),d(17,"Export to multiple formats"),m()(),c(18,"h3"),d(19,"Improvements"),m(),c(20,"ul")(21,"li"),d(22,"Significantly improved performance with large reports"),m(),c(23,"li"),d(24,"Enhanced code highlighting"),m(),c(25,"li"),d(26,"Better accessibility support"),m(),c(27,"li"),d(28,"Customizable report views"),m()(),c(29,"h3"),d(30,"Previous Version"),m(),c(31,"p"),d(32,"v1.3.0 (Released January 2025)"),m()())},dependencies:[k],styles:[".changelog-content[_ngcontent-%COMP%]{padding:1rem}.changelog-content[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{margin-top:0;color:var(--color-primary)}.changelog-content[_ngcontent-%COMP%]   h3[_ngcontent-%COMP%]{margin-top:1.5rem;margin-bottom:.5rem}.update-info[_ngcontent-%COMP%]{font-size:.9rem;color:var(--color-text-secondary);margin-bottom:1.5rem}"]})};var Se=class r{modals=new ye([]);open(e,t,n){let i=this.generateId(),o=new ye(null),s=o.asObservable(),a={id:i,component:e,data:t,config:this.getDefaultConfig(n),afterClosedSubject:o},l=this.modals.getValue();return this.modals.next([...l,a]),{close:u=>this.close(i,u),afterClosed:()=>s,updateConfig:u=>this.updateConfig(i,u)}}openTemplate(e,t,n){let i=this.generateId(),o=new ye(null),s=o.asObservable(),a={id:i,template:e,data:t,config:this.getDefaultConfig(n),afterClosedSubject:o},l=this.modals.getValue();return this.modals.next([...l,a]),{close:u=>this.close(i,u),afterClosed:()=>s,updateConfig:u=>this.updateConfig(i,u)}}close(e,t){let n=this.modals.getValue(),i=n.find(o=>o.id===e);i&&(i.afterClosedSubject.next(t),i.afterClosedSubject.complete(),this.modals.next(n.filter(o=>o.id!==e)))}updateConfig(e,t){let n=this.modals.getValue(),i=n.find(o=>o.id===e);i&&(i.config=K(K({},i.config),t),this.modals.next(n))}getModals(){return this.modals.asObservable()}openAboutModal(e,t){let n={title:"About Coverage Explorer",width:"500px",cssClass:"about-modal"};return this.open(ft,e,K(K({},n),t))}openHelpModal(e,t){let n={title:"Help & Getting Started",width:"550px",cssClass:"help-modal"};return this.open(ht,e,K(K({},n),t))}openKeyboardShortcutsModal(e,t){let n={title:"Keyboard Shortcuts",width:"600px",cssClass:"shortcuts-modal"};return this.open(gt,e,K(K({},n),t))}openSettingsModal(e,t){let n={title:"Settings",width:"600px",cssClass:"settings-modal"};return this.open(yt,e,K(K({},n),t))}openChangelogModal(e,t){let n={title:"What's New",width:"600px",cssClass:"changelog-modal"};return this.open(_t,e,K(K({},n),t))}generateId(){return Math.random().toString(36).substring(2,9)}getDefaultConfig(e){return K({title:"",width:"500px",height:"auto",closeOnOutsideClick:!0,cssClass:"",zIndex:1e3,animation:"fade"},e)}static \u0275fac=function(t){return new(t||r)};static \u0275prov=W({token:r,factory:r.\u0275fac,providedIn:"root"})};var xr=["fileUploaderTemplate"],Or=["exportOptionsTemplate"],Ar=["settingsTemplate"],kr=["keyboardShortcutsTemplate"],Nr=["helpTemplate"];function Ir(r,e){if(r&1){let t=ie();c(0,"div",24)(1,"div",25)(2,"input",26),P("focus",function(){N(t);let i=M();return I(i.onSearchFocus())})("blur",function(){N(t);let i=M();return I(i.onSearchBlur())}),m(),S(3,"i",27),m()()}if(r&2){let t=M();_(2),E("formControl",t.searchControl)}}function Rr(r,e){r&1&&S(0,"i",28)}function Dr(r,e){r&1&&S(0,"i",29)}function Fr(r,e){if(r&1&&S(0,"img",33),r&2){let t=M(2);E("src",t.currentUser.avatar||"assets/images/default-avatar.png",qn)("alt",t.currentUser.name)}}function Lr(r,e){if(r&1&&(c(0,"span"),d(1),m()),r&2){let t=M(2);_(),ee(t.currentUser.name.charAt(0))}}function zr(r,e){if(r&1&&(c(0,"div",30),L(1,Fr,1,2,"img",31)(2,Lr,2,1,"span",32),m()),r&2){let t=M();_(),E("ngIf",t.currentUser.avatar),_(),E("ngIf",!t.currentUser.avatar)}}function Vr(r,e){r&1&&(c(0,"div",30),S(1,"i",34),m())}function jr(r,e){if(r&1){let t=ie();Yn(0),c(1,"button",41),P("click",function(){N(t);let i=M(2);return I(i.goToProfile())}),S(2,"i",42),d(3," View Profile "),m(),c(4,"button",41),P("click",function(){N(t);let i=M(2);return I(i.openSettings())}),S(5,"i",43),d(6," Settings "),m(),c(7,"button",41),P("click",function(){N(t);let i=M(2);return I(i.openKeyboardShortcuts())}),S(8,"i",44),d(9," Keyboard Shortcuts "),m(),c(10,"button",41),P("click",function(){N(t);let i=M(2);return I(i.openHelp())}),S(11,"i",45),d(12," Help "),m(),c(13,"button",46),P("click",function(){N(t);let i=M(2);return I(i.logout())}),S(14,"i",47),d(15," Sign Out "),m(),Xn()}}function Ur(r,e){if(r&1){let t=ie();c(0,"button",41),P("click",function(){N(t);let i=M(2);return I(i.login())}),S(1,"i",48),d(2," Sign In "),m(),c(3,"button",41),P("click",function(){N(t);let i=M(2);return I(i.openSettings())}),S(4,"i",43),d(5," Settings "),m(),c(6,"button",41),P("click",function(){N(t);let i=M(2);return I(i.openKeyboardShortcuts())}),S(7,"i",44),d(8," Keyboard Shortcuts "),m(),c(9,"button",41),P("click",function(){N(t);let i=M(2);return I(i.openHelp())}),S(10,"i",45),d(11," Help "),m()}}function Kr(r,e){if(r&1&&(c(0,"div",35)(1,"div",36)(2,"span",37),d(3),m(),c(4,"span",38),d(5),m()(),c(6,"div",39),L(7,jr,16,0,"ng-container",40)(8,Ur,12,0,"ng-template",null,3,$e),m()()),r&2){let t=tn(9),n=M();_(3),ee(n.currentUser?n.currentUser.name:"Guest User"),_(2),ee(n.currentUser?n.currentUser.roles.includes("admin")?"Administrator":"User":"Not Signed In"),_(2),E("ngIf",n.currentUser)("ngIfElse",t)}}function Hr(r,e){if(r&1){let t=ie();c(0,"div",49)(1,"div",25),S(2,"input",50),c(3,"button",51),P("click",function(){N(t);let i=M();return I(i.closeSearch())}),S(4,"i",52),m()()()}if(r&2){let t=M();_(2),E("formControl",t.searchControl)}}function qr(r,e){r&1&&(c(0,"div",53),S(1,"app-file-uploader"),m())}function Br(r,e){if(r&1){let t=ie();c(0,"div",64),P("click",function(){let i=N(t).$implicit,o=M(2);return I(o.selectedExportFormat=i.value)}),c(1,"div",65),S(2,"i",63),m(),c(3,"div",66)(4,"div",67),d(5),m(),c(6,"div",68),d(7),m()()()}if(r&2){let t=e.$implicit,n=M(2);_e("selected",n.selectedExportFormat===t.value),_(2),E("ngClass",t.icon),_(3),ee(t.label),_(2),ee(t.value==="png"?"Best for sharing and presentations":t.value==="svg"?"Scalable vector format for editing":t.value==="pdf"?"Document format for printing":"Raw data for spreadsheets and analysis")}}function Qr(r,e){if(r&1){let t=ie();c(0,"div",54)(1,"div",55),L(2,Br,8,5,"div",56),m(),c(3,"div",57)(4,"label",58),d(5,"File name:"),m(),c(6,"input",59),Oe("ngModelChange",function(i){N(t);let o=M();return xe(o.exportFileName,i)||(o.exportFileName=i),I(i)}),m()(),c(7,"div",60)(8,"button",61),P("click",function(){N(t);let i=M();return I(i.exportModalRef==null?null:i.exportModalRef.close())}),d(9,"Cancel"),m(),c(10,"button",62),P("click",function(){N(t);let i=M();return I(i.exportReport())}),S(11,"i",63),d(12," Export "),m()()()}if(r&2){let t=M();_(2),E("ngForOf",t.exportFormats),_(4),Pe("ngModel",t.exportFileName),_(5),E("ngClass",t.exportIcon)}}var vt=class r{constructor(e,t,n,i,o,s,a,l){this.themeStore=e;this.modalService=t;this.exportService=n;this.coverageStore=i;this.authService=o;this.router=s;this.toastService=a;this.document=l}toggleSidebarEvent=new Zt;searchEvent=new Zt;fileUploaderTemplate;exportOptionsTemplate;settingsTemplate;keyboardShortcutsTemplate;helpTemplate;isDarkTheme=!1;isMobileView=!1;isSearchActive=!1;isUserMenuOpen=!1;hasActiveReport=!1;searchControl=new di("");exportFileName="coverage-report";selectedExportFormat="png";exportFormats=[{value:"png",label:"PNG Image",icon:"fa-file-image",description:"Best for sharing and presentations"},{value:"svg",label:"SVG Vector",icon:"fa-bezier-curve",description:"Scalable vector format for editing"},{value:"pdf",label:"PDF Document",icon:"fa-file-pdf",description:"Document format for printing"},{value:"csv",label:"CSV Data",icon:"fa-file-csv",description:"Raw data for spreadsheets and analysis"}];currentUser=null;exportModalRef=null;ngOnInit(){this.themeStore.isDarkTheme$.subscribe(e=>{this.isDarkTheme=e}),this.searchControl.valueChanges.pipe(jn(300),Un()).subscribe(e=>{this.searchEvent.emit(e||"")}),this.checkScreenSize(),this.coverageStore.getCoverageData().subscribe(e=>{this.hasActiveReport=!!e}),this.authService.currentUser$.subscribe(e=>{this.currentUser=e})}onResize(e){this.checkScreenSize()}onClick(e){document.querySelector(".user-profile")?.contains(e.target)||(this.isUserMenuOpen=!1)}get exportIcon(){switch(this.selectedExportFormat){case"png":return"fa-file-image";case"svg":return"fa-bezier-curve";case"pdf":return"fa-file-pdf";case"csv":return"fa-file-csv";default:return"fa-download"}}toggleSidebar(){this.toggleSidebarEvent.emit()}toggleTheme(){this.themeStore.toggleTheme()}checkScreenSize(){this.isMobileView=window.innerWidth<768}onSearchFocus(){this.isMobileView&&(this.isSearchActive=!0)}onSearchBlur(){this.isMobileView&&!this.searchControl.value&&(this.isSearchActive=!1)}closeSearch(){this.isSearchActive=!1,this.searchControl.setValue("")}toggleUserMenu(){this.isUserMenuOpen=!this.isUserMenuOpen}getUserDisplayName(){return this.currentUser?this.currentUser.name||(this.currentUser.login?`@${this.currentUser.login}`:"GitHub User"):"Guest User"}getUserAvatar(){return!this.currentUser||!this.currentUser.avatar?"assets/images/default-avatar.png":this.currentUser.avatar}onImportFile(){this.modalService.openTemplate(this.fileUploaderTemplate,{},{title:"Import Coverage Report",width:"750px",height:"auto",cssClass:"file-uploader-modal",closeOnOutsideClick:!1})}onExportReport(){this.hasActiveReport&&(this.exportModalRef=this.modalService.openTemplate(this.exportOptionsTemplate,{},{title:"Export Report",width:"500px",cssClass:"export-modal"}))}exportReport(){let e=this.findVisualizationChartElement();if(e||(e=this.document.querySelector(".coverage-chart-container")),!e){this.toastService.showError("Error","No chart found to export."),this.exportModalRef&&this.exportModalRef.close();return}let t=this.document.createElement("div");t.className="exporting-indicator",t.innerHTML='<i class="fas fa-spinner fa-spin"></i> Exporting...',this.document.body.appendChild(t);try{let n;switch(this.selectedExportFormat){case"png":n=this.exportService.exportChartAsPng(e,this.exportFileName);break;case"svg":n=this.exportService.exportChartAsSvg(e,this.exportFileName);break;case"pdf":n=this.exportService.exportChartAsPdf(e,this.exportFileName);break;case"csv":let i=this.getExportData()||this.prepareCsvData(this.coverageStore.getCurrentCoverageData());n=this.exportService.exportDataAsCsv(i,this.exportFileName);break;default:throw this.toastService.showError("Error","Unknown export format selected."),new Error("Unknown export format")}n.then(()=>{this.exportModalRef&&this.exportModalRef.close()}).catch(i=>{console.error("Export failed:",i)}).finally(()=>{t.parentNode&&t.parentNode.removeChild(t)})}catch(n){this.toastService.showError("Error",`Failed to export the report: ${n}`),t.parentNode&&t.parentNode.removeChild(t)}}findVisualizationChartElement(){try{let e=this.document.querySelector("app-visualization-container");if(!e)return null;let t=e.querySelector("google-chart");if(t)return t;let n=[".chart-container .active",".treemap-container",".sunburst-container",".heatmap-container",".pie-container",".coverage-table-container"];for(let o of n){let s=e.querySelector(o);if(s)return s}let i=e.querySelector('[class*="-container"]');return i||null}catch(e){return console.error("Error finding chart element:",e),null}}getExportData(){let e=this.document.querySelector("app-visualization-container");if(e&&e.getExportData)try{return e.getExportData()}catch(t){console.error("Error getting export data from visualization container:",t)}return null}prepareCsvData(e){let t=[["Package","Class","Line Coverage","Branch Coverage","Method Coverage"]];return e.packages&&e.packages.forEach(n=>{n.classes.forEach(i=>{t.push([n.name,i.name,i.lineCoverage.toFixed(2)+"%",i.branchCoverage.toFixed(2)+"%",i.methodCoverage.toFixed(2)+"%"])})}),t}openSettings(){this.isUserMenuOpen=!1,this.modalService.openSettingsModal()}openKeyboardShortcuts(){this.isUserMenuOpen=!1,this.modalService.openKeyboardShortcutsModal()}openHelp(){this.isUserMenuOpen=!1,this.modalService.openHelpModal()}login(){this.isUserMenuOpen=!1,this.router.navigate(["/login"])}logout(){this.isUserMenuOpen=!1,this.authService.logout()}goToProfile(){this.isUserMenuOpen=!1,this.router.navigate(["/user/profile"])}static \u0275fac=function(t){return new(t||r)(F(Ce),F(Se),F(Ci),F(vi),F(te),F(be),F(st),F(ot))};static \u0275cmp=A({type:r,selectors:[["app-header"]],viewQuery:function(t,n){if(t&1&&(re(xr,5),re(Or,5),re(Ar,5),re(kr,5),re(Nr,5)),t&2){let i;oe(i=se())&&(n.fileUploaderTemplate=i.first),oe(i=se())&&(n.exportOptionsTemplate=i.first),oe(i=se())&&(n.settingsTemplate=i.first),oe(i=se())&&(n.keyboardShortcutsTemplate=i.first),oe(i=se())&&(n.helpTemplate=i.first)}},hostBindings:function(t,n){t&1&&P("resize",function(o){return n.onResize(o)},!1,Bn)("click",function(o){return n.onClick(o)},!1,Qn)},outputs:{toggleSidebarEvent:"toggleSidebarEvent",searchEvent:"searchEvent"},decls:29,vars:8,consts:[["guestAvatar",""],["fileUploaderTemplate",""],["exportOptionsTemplate",""],["guestMenuItems",""],[1,"app-header"],[1,"header-start"],["aria-label","Toggle sidebar",1,"menu-toggle",3,"click"],[1,"fas","fa-bars"],[1,"app-logo"],[1,"fas","fa-shield-alt","logo-icon"],[1,"version-tag"],["class","header-center",4,"ngIf"],[1,"header-end"],["aria-label","Import file","title","Import Coverage File",1,"header-btn",3,"click"],[1,"fas","fa-file-import"],["aria-label","Export report","title","Export Report",1,"header-btn",3,"click","disabled"],[1,"fas","fa-file-export"],["aria-label","Toggle theme","title","Toggle Dark Mode",1,"theme-toggle",3,"click"],["class","fas fa-sun",4,"ngIf"],["class","fas fa-moon",4,"ngIf"],[1,"user-profile",3,"click"],["class","user-avatar",4,"ngIf","ngIfElse"],["class","user-menu",4,"ngIf"],["class","header-mobile-search",4,"ngIf"],[1,"header-center"],[1,"search-container"],["type","text","placeholder","Search in reports...",1,"search-input",3,"focus","blur","formControl"],[1,"fas","fa-search","search-icon"],[1,"fas","fa-sun"],[1,"fas","fa-moon"],[1,"user-avatar"],[3,"src","alt",4,"ngIf"],[4,"ngIf"],[3,"src","alt"],[1,"fas","fa-user"],[1,"user-menu"],[1,"user-menu-header"],[1,"user-name"],[1,"user-role"],[1,"user-menu-items"],[4,"ngIf","ngIfElse"],[1,"user-menu-item",3,"click"],[1,"fas","fa-user-circle"],[1,"fas","fa-cog"],[1,"fas","fa-keyboard"],[1,"fas","fa-question-circle"],[1,"user-menu-item","logout-item",3,"click"],[1,"fas","fa-sign-out-alt"],[1,"fas","fa-sign-in-alt"],[1,"header-mobile-search"],["type","text","placeholder","Search in reports...",1,"search-input",3,"formControl"],[1,"search-close",3,"click"],[1,"fas","fa-times"],[1,"file-uploader-container"],[1,"export-content"],[1,"export-options"],["class","export-format-option",3,"selected","click",4,"ngFor","ngForOf"],[1,"filename-input"],["for","exportFileName"],["type","text","id","exportFileName","placeholder","Enter file name",3,"ngModelChange","ngModel"],[1,"modal-actions"],[1,"btn-secondary",3,"click"],[1,"btn-primary",3,"click"],[1,"fas",3,"ngClass"],[1,"export-format-option",3,"click"],[1,"format-icon"],[1,"format-details"],[1,"format-name"],[1,"format-desc"]],template:function(t,n){if(t&1){let i=ie();c(0,"header",4)(1,"div",5)(2,"button",6),P("click",function(){return N(i),I(n.toggleSidebar())}),S(3,"i",7),m(),c(4,"div",8),S(5,"i",9),c(6,"span"),d(7,"Coverage Explorer"),m(),c(8,"span",10),d(9,"v2.0"),m()()(),L(10,Ir,4,1,"div",11),c(11,"div",12)(12,"button",13),P("click",function(){return N(i),I(n.onImportFile())}),S(13,"i",14),m(),c(14,"button",15),P("click",function(){return N(i),I(n.onExportReport())}),S(15,"i",16),m(),c(16,"button",17),P("click",function(){return N(i),I(n.toggleTheme())}),L(17,Rr,1,0,"i",18)(18,Dr,1,0,"i",19),m(),c(19,"div",20),P("click",function(){return N(i),I(n.toggleUserMenu())}),L(20,zr,3,2,"div",21)(21,Vr,2,0,"ng-template",null,0,$e)(23,Kr,10,4,"div",22),m()(),L(24,Hr,5,1,"div",23),m(),L(25,qr,2,0,"ng-template",null,1,$e)(27,Qr,13,3,"ng-template",null,2,$e)}if(t&2){let i=tn(22);_(10),E("ngIf",!n.isMobileView),_(4),E("disabled",!n.hasActiveReport),_(3),E("ngIf",n.isDarkTheme),_(),E("ngIf",!n.isDarkTheme),_(2),E("ngIf",n.currentUser)("ngIfElse",i),_(3),E("ngIf",n.isUserMenuOpen),_(),E("ngIf",n.isMobileView&&n.isSearchActive)}},dependencies:[k,ve,ze,ue,mt,at,lt,ct,yi,fi,bi],styles:[".app-header[_ngcontent-%COMP%]{display:flex;justify-content:space-between;align-items:center;padding:0 1.5rem;height:60px;background-color:var(--color-header-bg);box-shadow:0 2px 4px #0000001a;z-index:10;position:relative}.header-start[_ngcontent-%COMP%], .header-end[_ngcontent-%COMP%]{display:flex;align-items:center;gap:1rem}.header-center[_ngcontent-%COMP%]{flex:1;max-width:500px;padding:0 2rem}.app-logo[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:1.25rem;font-weight:500;color:var(--color-text-brand)}.app-logo[_ngcontent-%COMP%]   .logo-icon[_ngcontent-%COMP%]{font-size:1.5rem;color:var(--color-primary)}.app-logo[_ngcontent-%COMP%]   .version-tag[_ngcontent-%COMP%]{font-size:.75rem;color:var(--color-text-secondary);margin-left:.5rem}.search-container[_ngcontent-%COMP%]{position:relative;width:100%}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]{width:100%;padding:.5rem 1rem .5rem 2.5rem;border:1px solid var(--color-border-light);border-radius:20px;font-size:.875rem;background-color:var(--color-bg-secondary);color:var(--color-text-primary);transition:all .2s ease}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary);background-color:var(--color-bg-primary);box-shadow:0 0 0 2px rgba(var(--color-primary-rgb),.2)}.search-container[_ngcontent-%COMP%]   .search-input[_ngcontent-%COMP%]::placeholder{color:var(--color-text-placeholder)}.search-container[_ngcontent-%COMP%]   .search-icon[_ngcontent-%COMP%]{position:absolute;left:.75rem;top:50%;transform:translateY(-50%);color:var(--color-text-secondary);font-size:.875rem;pointer-events:none}.menu-toggle[_ngcontent-%COMP%], .theme-toggle[_ngcontent-%COMP%], .header-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--color-text-default);cursor:pointer;padding:.5rem;font-size:1.125rem;border-radius:50%;display:flex;align-items:center;justify-content:center;width:36px;height:36px;transition:all .2s ease}.menu-toggle[_ngcontent-%COMP%]:hover, .theme-toggle[_ngcontent-%COMP%]:hover, .header-btn[_ngcontent-%COMP%]:hover{background-color:var(--color-bg-tertiary)}.menu-toggle[_ngcontent-%COMP%]:disabled, .theme-toggle[_ngcontent-%COMP%]:disabled, .header-btn[_ngcontent-%COMP%]:disabled{opacity:.5;cursor:not-allowed}.file-uploader-container[_ngcontent-%COMP%]{padding:0}.file-uploader-container   [_nghost-%COMP%]     .modal-content{padding:0}.export-options-container[_ngcontent-%COMP%]{padding:1rem}.export-options-container[_ngcontent-%COMP%]   .export-form[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:1.5rem}.export-options-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem}.export-options-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:500;color:var(--color-text-primary)}.export-options-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{padding:.5rem;border:1px solid var(--color-border-light);border-radius:4px;font-size:.9rem;background-color:var(--color-bg-secondary);color:var(--color-text-primary)}.export-options-container[_ngcontent-%COMP%]   .form-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 2px rgba(var(--color-primary-rgb),.2)}.export-options-container[_ngcontent-%COMP%]   .format-options[_ngcontent-%COMP%]{display:grid;grid-template-columns:repeat(2,1fr);gap:.75rem}.export-options-container[_ngcontent-%COMP%]   .format-options[_ngcontent-%COMP%]   .format-option[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem;border:1px solid var(--color-border-light);border-radius:4px;cursor:pointer;transition:all .2s ease}.export-options-container[_ngcontent-%COMP%]   .format-options[_ngcontent-%COMP%]   .format-option[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.25rem;color:var(--color-text-secondary)}.export-options-container[_ngcontent-%COMP%]   .format-options[_ngcontent-%COMP%]   .format-option[_ngcontent-%COMP%]:hover{background-color:var(--color-bg-secondary)}.export-options-container[_ngcontent-%COMP%]   .format-options[_ngcontent-%COMP%]   .format-option.selected[_ngcontent-%COMP%]{border-color:var(--color-primary);background-color:rgba(var(--color-primary-rgb),.05)}.export-options-container[_ngcontent-%COMP%]   .format-options[_ngcontent-%COMP%]   .format-option.selected[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--color-primary)}.export-options-container[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem;font-size:.9rem;color:var(--color-text-secondary);background-color:var(--color-bg-secondary);padding:.75rem;border-radius:4px}.export-options-container[_ngcontent-%COMP%]   .info-text[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--color-info)}.export-options-container[_ngcontent-%COMP%]   .export-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:1rem;margin-top:1rem}.export-options-container[_ngcontent-%COMP%]   .export-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:.5rem 1rem;border-radius:4px;font-weight:500;cursor:pointer;transition:all .2s ease}.export-options-container[_ngcontent-%COMP%]   .export-actions[_ngcontent-%COMP%]   button.cancel-btn[_ngcontent-%COMP%]{background:transparent;border:1px solid var(--color-border-light);color:var(--color-text-secondary)}.export-options-container[_ngcontent-%COMP%]   .export-actions[_ngcontent-%COMP%]   button.cancel-btn[_ngcontent-%COMP%]:hover{background-color:var(--color-bg-secondary)}.export-options-container[_ngcontent-%COMP%]   .export-actions[_ngcontent-%COMP%]   button.export-btn[_ngcontent-%COMP%]{background-color:var(--color-primary);border:none;color:#fff;display:flex;align-items:center;gap:.5rem}.export-options-container[_ngcontent-%COMP%]   .export-actions[_ngcontent-%COMP%]   button.export-btn[_ngcontent-%COMP%]:hover{background-color:var(--color-primary-dark)}.export-options-container[_ngcontent-%COMP%]   .export-actions[_ngcontent-%COMP%]   button.export-btn[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:.9rem}.user-profile[_ngcontent-%COMP%]{position:relative;margin-left:.5rem}.user-avatar[_ngcontent-%COMP%]{width:36px;height:36px;border-radius:50%;background-color:var(--color-primary);display:flex;align-items:center;justify-content:center;color:#fff;cursor:pointer;transition:all .2s ease;overflow:hidden}.user-avatar[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;height:100%;object-fit:cover}.user-avatar[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:500;text-transform:uppercase}.user-avatar[_ngcontent-%COMP%]:hover{opacity:.9}.logout-item[_ngcontent-%COMP%]{border-top:1px solid var(--color-border-light);margin-top:.5rem;padding-top:.75rem}.logout-item[_ngcontent-%COMP%]:hover, .logout-item[_ngcontent-%COMP%]:hover   i[_ngcontent-%COMP%]{color:var(--color-danger)}.user-menu[_ngcontent-%COMP%]{position:absolute;top:110%;right:0;width:220px;background-color:var(--color-bg-primary);border-radius:4px;box-shadow:0 4px 12px #00000026;overflow:hidden;z-index:100}.user-menu[_ngcontent-%COMP%]   .user-menu-header[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid var(--color-border-light)}.user-menu[_ngcontent-%COMP%]   .user-menu-header[_ngcontent-%COMP%]   .user-name[_ngcontent-%COMP%]{display:block;font-weight:500}.user-menu[_ngcontent-%COMP%]   .user-menu-header[_ngcontent-%COMP%]   .user-role[_ngcontent-%COMP%]{display:block;font-size:.8rem;color:var(--color-text-secondary)}.user-menu[_ngcontent-%COMP%]   .user-menu-items[_ngcontent-%COMP%]{padding:.5rem 0}.user-menu[_ngcontent-%COMP%]   .user-menu-items[_ngcontent-%COMP%]   .user-menu-item[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.75rem;padding:.75rem 1rem;width:100%;text-align:left;background:transparent;border:none;color:var(--color-text-primary);cursor:pointer;font-size:.875rem;transition:background-color .2s ease;justify-content:flex-start}.user-menu[_ngcontent-%COMP%]   .user-menu-items[_ngcontent-%COMP%]   .user-menu-item[_ngcontent-%COMP%]:hover{background-color:var(--color-bg-secondary)}.user-menu[_ngcontent-%COMP%]   .user-menu-items[_ngcontent-%COMP%]   .user-menu-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:16px;color:var(--color-text-secondary)}.header-mobile-search[_ngcontent-%COMP%]{position:absolute;top:60px;left:0;right:0;padding:.75rem 1rem;background-color:var(--color-header-bg);box-shadow:0 2px 4px #0000001a;z-index:9}.header-mobile-search[_ngcontent-%COMP%]   .search-close[_ngcontent-%COMP%]{position:absolute;right:8px;top:50%;transform:translateY(-50%);background:transparent;border:none;color:var(--color-text-secondary);padding:.25rem;cursor:pointer;font-size:1rem}@media (max-width: 768px){.header-center[_ngcontent-%COMP%]{display:none}.header-end[_ngcontent-%COMP%]   .header-btn[_ngcontent-%COMP%], .header-end[_ngcontent-%COMP%]   .theme-toggle[_ngcontent-%COMP%]{width:32px;height:32px;font-size:1rem}}.export-content[_ngcontent-%COMP%]{padding:1rem}.export-content[_ngcontent-%COMP%]   .export-options[_ngcontent-%COMP%]{margin-bottom:1.5rem}.export-content[_ngcontent-%COMP%]   .export-options[_ngcontent-%COMP%]   .export-format-option[_ngcontent-%COMP%]{display:flex;align-items:center;padding:12px;cursor:pointer;border-radius:6px;margin-bottom:8px;border:2px solid transparent;transition:all .2s ease}.export-content[_ngcontent-%COMP%]   .export-options[_ngcontent-%COMP%]   .export-format-option[_ngcontent-%COMP%]:hover{background-color:var(--color-bg-hover)}.export-content[_ngcontent-%COMP%]   .export-options[_ngcontent-%COMP%]   .export-format-option.selected[_ngcontent-%COMP%]{border-color:var(--color-primary);background-color:var(--color-primary-light, rgba(var(--color-primary-rgb), .1))}.export-content[_ngcontent-%COMP%]   .export-options[_ngcontent-%COMP%]   .export-format-option[_ngcontent-%COMP%]   .format-icon[_ngcontent-%COMP%]{width:40px;height:40px;display:flex;align-items:center;justify-content:center;background-color:var(--color-bg-secondary);border-radius:6px;margin-right:16px}.export-content[_ngcontent-%COMP%]   .export-options[_ngcontent-%COMP%]   .export-format-option[_ngcontent-%COMP%]   .format-icon[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.2rem;color:var(--color-primary)}.export-content[_ngcontent-%COMP%]   .export-options[_ngcontent-%COMP%]   .export-format-option[_ngcontent-%COMP%]   .format-details[_ngcontent-%COMP%]{flex:1}.export-content[_ngcontent-%COMP%]   .export-options[_ngcontent-%COMP%]   .export-format-option[_ngcontent-%COMP%]   .format-details[_ngcontent-%COMP%]   .format-name[_ngcontent-%COMP%]{font-weight:500;font-size:1rem}.export-content[_ngcontent-%COMP%]   .export-options[_ngcontent-%COMP%]   .export-format-option[_ngcontent-%COMP%]   .format-details[_ngcontent-%COMP%]   .format-desc[_ngcontent-%COMP%]{font-size:.85rem;color:var(--color-text-secondary);margin-top:4px}.export-content[_ngcontent-%COMP%]   .filename-input[_ngcontent-%COMP%]{margin:20px 0}.export-content[_ngcontent-%COMP%]   .filename-input[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:8px;font-weight:500}.export-content[_ngcontent-%COMP%]   .filename-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{width:100%;padding:10px 12px;border-radius:4px;border:1px solid var(--color-border);background-color:var(--color-bg-input, var(--color-bg-secondary));color:var(--color-text-primary);font-size:1rem;transition:border-color .2s ease}.export-content[_ngcontent-%COMP%]   .filename-input[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]:focus{outline:none;border-color:var(--color-primary);box-shadow:0 0 0 2px var(--color-primary-light, rgba(var(--color-primary-rgb), .2))}.export-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]{display:flex;justify-content:flex-end;gap:.75rem;margin-top:1.5rem}.export-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{padding:10px 16px;font-size:.9375rem;font-weight:500;border-radius:4px;cursor:pointer;transition:all .2s ease;display:flex;align-items:center;gap:.5rem}.export-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   button.btn-secondary[_ngcontent-%COMP%]{background-color:var(--color-bg-secondary);border:1px solid var(--color-border);color:var(--color-text-primary)}.export-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   button.btn-secondary[_ngcontent-%COMP%]:hover{background-color:var(--color-bg-hover)}.export-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]{background-color:var(--color-primary);border:none;color:#fff}.export-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]:hover{background-color:var(--color-primary-dark, var(--color-primary));filter:brightness(.9)}.export-content[_ngcontent-%COMP%]   .modal-actions[_ngcontent-%COMP%]   button.btn-primary[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1rem}.exporting-indicator[_ngcontent-%COMP%]{position:fixed;top:50%;left:50%;transform:translate(-50%,-50%);background:#000c;color:#fff;padding:16px 24px;border-radius:8px;z-index:9999;display:flex;align-items:center;gap:12px;font-size:1.1rem;box-shadow:0 4px 12px #0003}.exporting-indicator[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:1.5rem}[_nghost-%COMP%]     .modal-content .export-modal .modal-body{padding:0}"]})};var $r=r=>({exact:r});function Wr(r,e){if(r&1&&(c(0,"span",6),d(1),m()),r&2){let t=M().$implicit;_(),ee(t.label)}}function Gr(r,e){if(r&1&&(c(0,"li")(1,"a",4),S(2,"i"),L(3,Wr,2,1,"span",5),m()()),r&2){let t=e.$implicit,n=M();_(),E("routerLink",t.route)("routerLinkActiveOptions",Le(5,$r,t.route==="/")),_(),Gn(t.icon),_(),E("ngIf",!n.collapsed)}}var bt=class r{collapsed=!1;navItems=[{icon:"fas fa-home",label:"Dashboard",route:"/dashboard"},{icon:"fas fa-upload",label:"Upload",route:"/upload"},{icon:"fas fa-chart-pie",label:"Visualization",route:"/visualization"},{icon:"fas fa-chart-line",label:"Trends",route:"/trends"},{icon:"fas fa-lightbulb",label:"Insights",route:"/insights"},{icon:"fas fa-exchange-alt",label:"Comparison",route:"/comparison"},{icon:"fas fa-file-alt",label:"Recent Files",route:"/upload/recent-files"},{icon:"fas fa-user",label:"Profile",route:"/user/profile"}];static \u0275fac=function(t){return new(t||r)};static \u0275cmp=A({type:r,selectors:[["app-sidebar"]],inputs:{collapsed:"collapsed"},decls:4,vars:3,consts:[[1,"sidebar"],[1,"sidebar-nav"],[1,"nav-list"],[4,"ngFor","ngForOf"],["routerLinkActive","active",1,"nav-item",3,"routerLink","routerLinkActiveOptions"],["class","nav-label",4,"ngIf"],[1,"nav-label"]],template:function(t,n){t&1&&(c(0,"aside",0)(1,"nav",1)(2,"ul",2),L(3,Gr,4,7,"li",3),m()()()),t&2&&(_e("collapsed",n.collapsed),_(3),E("ngForOf",n.navItems))},dependencies:[k,ze,ue,je,li,ci],styles:[".sidebar[_ngcontent-%COMP%]{width:240px;background-color:var(--color-bg-secondary);height:100%;overflow-y:auto;transition:width .3s ease}.sidebar.collapsed[_ngcontent-%COMP%]{width:80px}.sidebar-nav[_ngcontent-%COMP%]{padding:1rem .5rem}.nav-list[_ngcontent-%COMP%]{list-style:none;padding:0;margin:0}.nav-item[_ngcontent-%COMP%]{display:flex;align-items:center;padding:.75rem 1.5rem;color:var(--color-text-secondary);text-decoration:none;transition:background-color .2s ease,color .2s ease;gap:.75rem}.nav-item[_ngcontent-%COMP%]:hover{background-color:var(--color-bg-tertiary);color:var(--color-text-default)}.nav-item.active[_ngcontent-%COMP%]{color:var(--color-text-brand);background-color:rgba(var(--color-primary-rgb),.1);border-left:3px solid var(--color-primary)}.nav-item.active[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{color:var(--color-primary)}.nav-item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{width:20px;text-align:center;font-size:1.125rem}.collapsed[_ngcontent-%COMP%]   .nav-item[_ngcontent-%COMP%]{justify-content:center;padding:.75rem 0}.collapsed[_ngcontent-%COMP%]   .nav-label[_ngcontent-%COMP%]{display:none}"]})};var Ue=class r{loadingSubject=new ye({show:!1});loading$=this.loadingSubject.asObservable();show(e){this.loadingSubject.next({show:!0,message:e})}hide(){this.loadingSubject.next({show:!1})}static \u0275fac=function(t){return new(t||r)};static \u0275prov=W({token:r,factory:r.\u0275fac,providedIn:"root"})};var Yr=["aboutModalTemplate"],Xr=["keyboardShortcutsTemplate"],Zr=["helpModalTemplate"],Jr=["changelogTemplate"],Ct=class r{constructor(e,t){this.modalService=e;this.loadingService=t}aboutModalTemplate;keyboardShortcutsTemplate;helpModalTemplate;changelogTemplate;currentYear=new Date().getFullYear();currentVersion="2.0.0";previousVersion="1.3.0";openAboutModal(){this.modalService.openAboutModal()}openKeyboardShortcutsModal(){this.modalService.openKeyboardShortcutsModal()}openHelpModal(){this.modalService.openHelpModal()}openChangelogModal(){this.modalService.openChangelogModal()}loadDocumentation(){this.loadingService.show("Loading documentation..."),setTimeout(()=>{this.loadingService.hide(),this.openHelpModal()},1e3)}static \u0275fac=function(t){return new(t||r)(F(Se),F(Ue))};static \u0275cmp=A({type:r,selectors:[["app-footer"]],viewQuery:function(t,n){if(t&1&&(re(Yr,5),re(Xr,5),re(Zr,5),re(Jr,5)),t&2){let i;oe(i=se())&&(n.aboutModalTemplate=i.first),oe(i=se())&&(n.keyboardShortcutsTemplate=i.first),oe(i=se())&&(n.helpModalTemplate=i.first),oe(i=se())&&(n.changelogTemplate=i.first)}},decls:17,vars:1,consts:[[1,"app-footer"],[1,"container"],[1,"footer-content"],[1,"app-info"],[1,"version-badge"],[1,"footer-actions"],[1,"footer-btn",3,"click"]],template:function(t,n){t&1&&(c(0,"footer",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"p"),d(5),m(),c(6,"span",4),d(7,"Major Update"),m()(),c(8,"div",5)(9,"button",6),P("click",function(){return n.openAboutModal()}),d(10,"About"),m(),c(11,"button",6),P("click",function(){return n.openKeyboardShortcutsModal()}),d(12,"Keyboard Shortcuts"),m(),c(13,"button",6),P("click",function(){return n.openHelpModal()}),d(14,"Help"),m(),c(15,"button",6),P("click",function(){return n.openChangelogModal()}),d(16,"What's New"),m()()()()()),t&2&&(_(5),rt("Coverage Explorer v2.0.0 \xA9 ",n.currentYear,""))},dependencies:[k],styles:[".app-footer[_ngcontent-%COMP%]{padding:1rem 1.5rem;background-color:var(--color-footer-bg);border-top:1px solid var(--color-border-light);font-size:.875rem;color:var(--color-text-secondary)}.footer-content[_ngcontent-%COMP%]{display:flex;gap:1rem;flex-wrap:wrap;flex-direction:column-reverse;align-items:center}.app-info[_ngcontent-%COMP%]{display:flex;align-items:center;gap:.5rem}.app-info[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{margin:0}.version-badge[_ngcontent-%COMP%]{font-size:.675rem;background-color:var(--color-primary);color:#fff;padding:.15rem .4rem;border-radius:4px;font-weight:500}.footer-actions[_ngcontent-%COMP%]{display:flex;gap:.5rem;flex-wrap:wrap}.footer-btn[_ngcontent-%COMP%]{background:transparent;border:none;color:var(--color-text-secondary);font-size:.8rem;padding:.25rem .5rem;cursor:pointer;border-radius:4px;transition:all .2s ease}.footer-btn[_ngcontent-%COMP%]:hover{background-color:#0000000d;color:var(--color-primary)}@media (min-width: 768px){.footer-content[_ngcontent-%COMP%]{flex-direction:row;justify-content:space-between;align-items:center}}"]})};function eo(r,e){if(r&1&&(c(0,"div",5),d(1),m()),r&2){let t=M();_(),ee(t.text)}}var St=class r{size="medium";text="Loading...";overlay=!1;static \u0275fac=function(t){return new(t||r)};static \u0275cmp=A({type:r,selectors:[["app-loading-spinner"]],inputs:{size:"size",text:"text",overlay:"overlay"},decls:6,vars:4,consts:[[1,"spinner-container"],[1,"spinner",3,"ngClass"],["role","status",1,"spinner-border"],[1,"visually-hidden"],["class","spinner-text",4,"ngIf"],[1,"spinner-text"]],template:function(t,n){t&1&&(c(0,"div",0)(1,"div",1)(2,"div",2)(3,"span",3),d(4,"Loading..."),m()()(),L(5,eo,2,1,"div",4),m()),t&2&&(_e("overlay",n.overlay),_(),E("ngClass",n.size),_(4),E("ngIf",n.text))},dependencies:[k,ve,ue],styles:[".spinner-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;align-items:center;justify-content:center}.spinner-container.overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#ffffffb3;z-index:9999}.spinner[_ngcontent-%COMP%]{display:inline-block}.spinner.small[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:1.5rem;height:1.5rem;border-width:.15em}.spinner.medium[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:3rem;height:3rem;border-width:.25em}.spinner.large[_ngcontent-%COMP%]   .spinner-border[_ngcontent-%COMP%]{width:5rem;height:5rem;border-width:.35em}.spinner-border[_ngcontent-%COMP%]{display:inline-block;width:3rem;height:3rem;vertical-align:text-bottom;border:.25em solid currentColor;border-right-color:transparent;border-radius:50%;animation:_ngcontent-%COMP%_spinner-border .75s linear infinite}@keyframes _ngcontent-%COMP%_spinner-border{to{transform:rotate(360deg)}}.spinner-text[_ngcontent-%COMP%]{margin-top:.75rem;font-size:1rem;color:#333}.visually-hidden[_ngcontent-%COMP%]{position:absolute;width:1px;height:1px;padding:0;margin:-1px;overflow:hidden;clip:rect(0,0,0,0);white-space:nowrap;border:0}"]})};function to(r,e){if(r&1&&S(0,"app-loading-spinner",1),r&2){let t=M();E("overlay",!0)("text",t.message)}}var Mt=class r{constructor(e){this.loadingService=e}showSpinner=!1;message="Loading...";ngOnInit(){this.loadingService.loading$.subscribe(e=>{this.showSpinner=e.show,this.message=e.message||"Loading..."})}static \u0275fac=function(t){return new(t||r)(F(Ue))};static \u0275cmp=A({type:r,selectors:[["app-global-spinner"]],decls:1,vars:1,consts:[[3,"overlay","text",4,"ngIf"],[3,"overlay","text"]],template:function(t,n){t&1&&L(0,to,1,2,"app-loading-spinner",0),t&2&&E("ngIf",n.showSpinner)},dependencies:[k,ue,St],encapsulation:2})};var no=r=>({$implicit:r});function io(r,e){if(r&1){let t=ie();c(0,"div",7)(1,"h2",8),d(2),m(),c(3,"button",9),P("click",function(){N(t);let i=M().$implicit,o=M();return I(o.closeModal(i.id))}),d(4,"\xD7"),m()()}if(r&2){let t=M().$implicit;_(2),ee(t.config.title)}}function ro(r,e){if(r&1&&en(0,10),r&2){let t=M().$implicit,n=M();E("ngComponentOutlet",t.component)("ngComponentOutletInjector",n.getInjector(t))}}function oo(r,e){if(r&1&&en(0,11),r&2){let t=M().$implicit;E("ngTemplateOutlet",t.template)("ngTemplateOutletContext",Le(2,no,t.data))}}function so(r,e){if(r&1){let t=ie();c(0,"div",1),P("click",function(i){let o=N(t).$implicit,s=M();return I(s.onOverlayClick(i,o))}),c(1,"div",2),P("click",function(i){return N(t),I(i.stopPropagation())}),L(2,io,5,1,"div",3),c(3,"div",4),L(4,ro,1,2,"ng-container",5)(5,oo,1,4,"ng-container",6),m()()()}if(r&2){let t=e.$implicit,n=M();_e("visible",!0),_(),E("ngStyle",n.getModalStyles(t.config))("ngClass",t.config.cssClass),_(),E("ngIf",t.config.title),_(2),E("ngIf",t.component),_(),E("ngIf",t.template)}}var Et=class r{constructor(e){this.modalService=e}modals$;ngOnInit(){this.modals$=this.modalService.getModals()}closeModal(e){this.modalService.modals.getValue().find(i=>i.id===e)&&this.modalService.close(e)}onOverlayClick(e,t){t.config.closeOnOutsideClick&&this.closeModal(t.id)}getModalStyles(e){return{width:e.width,height:e.height,"z-index":e.zIndex+1}}getInjector(e){return e.injector||null}static \u0275fac=function(t){return new(t||r)(F(Se))};static \u0275cmp=A({type:r,selectors:[["app-modal-container"]],decls:2,vars:3,consts:[["class","modal-overlay",3,"visible","click",4,"ngFor","ngForOf"],[1,"modal-overlay",3,"click"],[1,"modal-wrapper",3,"click","ngStyle","ngClass"],["class","modal-header",4,"ngIf"],[1,"modal-content"],[3,"ngComponentOutlet","ngComponentOutletInjector",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext",4,"ngIf"],[1,"modal-header"],[1,"modal-title"],[1,"modal-close-btn",3,"click"],[3,"ngComponentOutlet","ngComponentOutletInjector"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,n){t&1&&(L(0,so,6,7,"div",0),Zn(1,"async")),t&2&&E("ngForOf",Jn(1,1,n.modals$))},dependencies:[k,ve,ei,ze,ue,ni,ti,ii],styles:[".modal-overlay[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100%;height:100%;background-color:#00000080;z-index:1000;display:flex;align-items:center;justify-content:center;opacity:0;visibility:hidden;transition:opacity .3s,visibility .3s}.modal-overlay.visible[_ngcontent-%COMP%]{opacity:1;visibility:visible}.modal-wrapper[_ngcontent-%COMP%]{background-color:var(--color-bg-primary, #ffffff);border-radius:4px;box-shadow:0 5px 15px #00000026;max-width:90%;max-height:90%;overflow:auto;display:flex;flex-direction:column}.modal-header[_ngcontent-%COMP%]{padding:1rem;border-bottom:1px solid var(--color-border-light, #e0e0e0);display:flex;justify-content:space-between;align-items:center}.modal-title[_ngcontent-%COMP%]{margin:0;font-size:1.2rem;color:var(--color-text-primary, #303030)}.modal-close-btn[_ngcontent-%COMP%]{background:transparent;border:none;font-size:1.5rem;cursor:pointer;padding:0 .5rem;color:var(--color-text-secondary, #666);transition:color .2s}.modal-close-btn[_ngcontent-%COMP%]:hover{color:var(--color-text-primary, #303030)}.modal-content[_ngcontent-%COMP%]{padding:1rem;overflow:auto}"]})};var ao=r=>({"sidebar-collapsed":r}),Tt=class r{constructor(e){this.themeStore=e}isDarkTheme=!1;isSidebarCollapsed=!1;ngOnInit(){this.themeStore.isDarkTheme$.subscribe(e=>{this.isDarkTheme=e})}toggleSidebar(){this.isSidebarCollapsed=!this.isSidebarCollapsed}static \u0275fac=function(t){return new(t||r)(F(Ce))};static \u0275cmp=A({type:r,selectors:[["app-main-layout"]],decls:9,vars:4,consts:[[1,"app-container",3,"ngClass"],[3,"toggleSidebarEvent"],[1,"content-container"],[3,"collapsed"],[1,"main-content"]],template:function(t,n){t&1&&(c(0,"div",0),S(1,"app-global-spinner")(2,"app-modal-container"),c(3,"app-header",1),P("toggleSidebarEvent",function(){return n.toggleSidebar()}),m(),c(4,"div",2),S(5,"app-sidebar",3),c(6,"main",4),S(7,"router-outlet"),m()(),S(8,"app-footer"),m()),t&2&&(E("ngClass",Le(2,ao,n.isSidebarCollapsed)),_(5),E("collapsed",n.isSidebarCollapsed))},dependencies:[k,ve,je,Ve,vt,bt,Ct,Mt,Et],styles:[".app-container[_ngcontent-%COMP%]{display:flex;flex-direction:column;min-height:100vh;background-color:var(--color-bg-primary);color:var(--color-text-default);transition:background-color .3s ease,color .3s ease}.content-container[_ngcontent-%COMP%]{display:flex;flex:1}.main-content[_ngcontent-%COMP%]{flex:1;padding:1.5rem;overflow-y:auto;transition:margin-left .3s ease}.sidebar-collapsed[_ngcontent-%COMP%]   .main-content[_ngcontent-%COMP%]{margin-left:64px}"]})};var wt=class r{static \u0275fac=function(t){return new(t||r)};static \u0275cmp=A({type:r,selectors:[["app-auth-layout"]],decls:2,vars:0,consts:[[1,"auth-layout"]],template:function(t,n){t&1&&(c(0,"div",0),S(1,"router-outlet"),m())},dependencies:[k,Ve],styles:[".auth-layout[_ngcontent-%COMP%]{min-height:100vh;background-color:var(--color-bg-secondary);background-image:radial-gradient(circle at top right,rgba(var(--color-primary-rgb),.05) 0%,transparent 70%)}"]})};var Pt=class r{router=Qe(be);authService=Qe(te);canActivate(e,t){return t.url.includes("auth/callback")?!0:this.authService.isLoggedIn()?(this.router.navigate(["/dashboard"]),!1):!0}static \u0275fac=function(t){return new(t||r)};static \u0275prov=W({token:r,factory:r.\u0275fac,providedIn:"root"})};var Ti=[{path:"auth/callback",loadComponent:()=>import("./chunk-S6WOOFWU.js").then(r=>r.AuthCallbackComponent)},{path:"",component:wt,canActivate:[Pt],children:[{path:"",loadComponent:()=>import("./chunk-6DEPQRBD.js").then(r=>r.WelcomeComponent)},{path:"login",loadComponent:()=>import("./chunk-RQ6XMDV6.js").then(r=>r.LoginComponent)}]},{path:"",component:Tt,canActivate:[dt],children:[{path:"dashboard",loadComponent:()=>import("./chunk-V3LXB3JY.js").then(r=>r.DashboardComponent)},{path:"user/profile",loadComponent:()=>import("./chunk-HX2DVGUV.js").then(r=>r.UserProfileComponent)},{path:"upload",loadChildren:()=>import("./chunk-BGTTZLE5.js").then(r=>r.fileRoutes)},{path:"visualization",loadChildren:()=>import("./chunk-QCODDYAA.js").then(r=>r.visualizationRoutes)},{path:"trends",loadChildren:()=>import("./chunk-LDDT2X5U.js").then(r=>r.trendRoutes)},{path:"insights",loadChildren:()=>import("./chunk-FCGSPMWQ.js").then(r=>r.insightRoutes)},{path:"comparison",loadComponent:()=>import("./chunk-ABPRY7XJ.js").then(r=>r.ReportComparisonComponent)}]},{path:"**",redirectTo:""}];function wi(r){return new O(3e3,!1)}function lo(){return new O(3100,!1)}function co(){return new O(3101,!1)}function mo(r){return new O(3001,!1)}function po(r){return new O(3003,!1)}function uo(r){return new O(3004,!1)}function xi(r,e){return new O(3005,!1)}function Oi(){return new O(3006,!1)}function Ai(){return new O(3007,!1)}function ki(r,e){return new O(3008,!1)}function Ni(r){return new O(3002,!1)}function Ii(r,e,t,n,i){return new O(3010,!1)}function Ri(){return new O(3011,!1)}function Di(){return new O(3012,!1)}function Fi(){return new O(3200,!1)}function Li(){return new O(3202,!1)}function zi(){return new O(3013,!1)}function Vi(r){return new O(3014,!1)}function ji(r){return new O(3015,!1)}function Ui(r){return new O(3016,!1)}function Ki(r,e){return new O(3404,!1)}function fo(r){return new O(3502,!1)}function Hi(r){return new O(3503,!1)}function qi(){return new O(3300,!1)}function Bi(r){return new O(3504,!1)}function Qi(r){return new O(3301,!1)}function $i(r,e){return new O(3302,!1)}function Wi(r){return new O(3303,!1)}function Gi(r,e){return new O(3400,!1)}function Yi(r){return new O(3401,!1)}function Xi(r){return new O(3402,!1)}function Zi(r,e){return new O(3505,!1)}function he(r){switch(r.length){case 0:return new Ae;case 1:return r[0];default:return new pt(r)}}function cn(r,e,t=new Map,n=new Map){let i=[],o=[],s=-1,a=null;if(e.forEach(l=>{let p=l.get("offset"),u=p==s,f=u&&a||new Map;l.forEach((T,C)=>{let g=C,b=T;if(C!=="offset")switch(g=r.normalizePropertyName(g,i),b){case We:b=t.get(C);break;case ae:b=n.get(C);break;default:b=r.normalizeStyleValue(C,g,b,i);break}f.set(g,b)}),u||o.push(f),a=f,s=p}),i.length)throw fo(i);return o}function xt(r,e,t,n){switch(e){case"start":r.onStart(()=>n(t&&sn(t,"start",r)));break;case"done":r.onDone(()=>n(t&&sn(t,"done",r)));break;case"destroy":r.onDestroy(()=>n(t&&sn(t,"destroy",r)));break}}function sn(r,e,t){let n=t.totalTime,i=!!t.disabled,o=Ot(r.element,r.triggerName,r.fromState,r.toState,e||r.phaseName,n??r.totalTime,i),s=r._data;return s!=null&&(o._data=s),o}function Ot(r,e,t,n,i="",o=0,s){return{element:r,triggerName:e,fromState:t,toState:n,phaseName:i,totalTime:o,disabled:!!s}}function G(r,e,t){let n=r.get(e);return n||r.set(e,n=t),n}function mn(r){let e=r.indexOf(":"),t=r.substring(1,e),n=r.slice(e+1);return[t,n]}var ho=typeof document>"u"?null:document.documentElement;function At(r){let e=r.parentNode||r.host||null;return e===ho?null:e}function go(r){return r.substring(1,6)=="ebkit"}var ke=null,Pi=!1;function Ji(r){ke||(ke=yo()||{},Pi=ke.style?"WebkitAppearance"in ke.style:!1);let e=!0;return ke.style&&!go(r)&&(e=r in ke.style,!e&&Pi&&(e="Webkit"+r.charAt(0).toUpperCase()+r.slice(1)in ke.style)),e}function yo(){return typeof document<"u"?document.body:null}function pn(r,e){for(;e;){if(e===r)return!0;e=At(e)}return!1}function dn(r,e,t){if(t)return Array.from(r.querySelectorAll(e));let n=r.querySelector(e);return n?[n]:[]}var _o=1e3,un="{{",vo="}}",fn="ng-enter",kt="ng-leave",Ye="ng-trigger",Xe=".ng-trigger",hn="ng-animating",Nt=".ng-animating";function fe(r){if(typeof r=="number")return r;let e=r.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:an(parseFloat(e[1]),e[2])}function an(r,e){switch(e){case"s":return r*_o;default:return r}}function Ze(r,e,t){return r.hasOwnProperty("duration")?r:bo(r,e,t)}function bo(r,e,t){let n=/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i,i,o=0,s="";if(typeof r=="string"){let a=r.match(n);if(a===null)return e.push(wi(r)),{duration:0,delay:0,easing:""};i=an(parseFloat(a[1]),a[2]);let l=a[3];l!=null&&(o=an(parseFloat(l),a[4]));let p=a[5];p&&(s=p)}else i=r;if(!t){let a=!1,l=e.length;i<0&&(e.push(lo()),a=!0),o<0&&(e.push(co()),a=!0),a&&e.splice(l,0,wi(r))}return{duration:i,delay:o,easing:s}}function er(r){return r.length?r[0]instanceof Map?r:r.map(e=>new Map(Object.entries(e))):[]}function le(r,e,t){e.forEach((n,i)=>{let o=It(i);t&&!t.has(i)&&t.set(i,r.style[o]),r.style[o]=n})}function Me(r,e){e.forEach((t,n)=>{let i=It(n);r.style[i]=""})}function Ke(r){return Array.isArray(r)?r.length==1?r[0]:_i(r):r}function tr(r,e,t){let n=e.params||{},i=gn(r);i.length&&i.forEach(o=>{n.hasOwnProperty(o)||t.push(mo(o))})}var ln=new RegExp(`${un}\\s*(.+?)\\s*${vo}`,"g");function gn(r){let e=[];if(typeof r=="string"){let t;for(;t=ln.exec(r);)e.push(t[1]);ln.lastIndex=0}return e}function He(r,e,t){let n=`${r}`,i=n.replace(ln,(o,s)=>{let a=e[s];return a==null&&(t.push(po(s)),a=""),a.toString()});return i==n?r:i}var Co=/-+([a-z0-9])/g;function It(r){return r.replace(Co,(...e)=>e[1].toUpperCase())}function nr(r,e){return r===0||e===0}function ir(r,e,t){if(t.size&&e.length){let n=e[0],i=[];if(t.forEach((o,s)=>{n.has(s)||i.push(s),n.set(s,o)}),i.length)for(let o=1;o<e.length;o++){let s=e[o];i.forEach(a=>s.set(a,Rt(r,a)))}}return e}function Y(r,e,t){switch(e.type){case w.Trigger:return r.visitTrigger(e,t);case w.State:return r.visitState(e,t);case w.Transition:return r.visitTransition(e,t);case w.Sequence:return r.visitSequence(e,t);case w.Group:return r.visitGroup(e,t);case w.Animate:return r.visitAnimate(e,t);case w.Keyframes:return r.visitKeyframes(e,t);case w.Style:return r.visitStyle(e,t);case w.Reference:return r.visitReference(e,t);case w.AnimateChild:return r.visitAnimateChild(e,t);case w.AnimateRef:return r.visitAnimateRef(e,t);case w.Query:return r.visitQuery(e,t);case w.Stagger:return r.visitStagger(e,t);default:throw uo(e.type)}}function Rt(r,e){return window.getComputedStyle(r)[e]}var In=(()=>{class r{validateStyleProperty(t){return Ji(t)}containsElement(t,n){return pn(t,n)}getParentElement(t){return At(t)}query(t,n,i){return dn(t,n,i)}computeStyle(t,n,i){return i||""}animate(t,n,i,o,s,a=[],l){return new Ae(i,o)}static \u0275fac=function(n){return new(n||r)};static \u0275prov=W({token:r,factory:r.\u0275fac})}return r})(),Ie=class{static NOOP=new In},Re=class{};var So=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]),Vt=class extends Re{normalizePropertyName(e,t){return It(e)}normalizeStyleValue(e,t,n,i){let o="",s=n.toString().trim();if(So.has(t)&&n!==0&&n!=="0")if(typeof n=="number")o="px";else{let a=n.match(/^[+-]?[\d\.]+([a-z]*)$/);a&&a[1].length==0&&i.push(xi(e,n))}return s+o}};var jt="*";function Mo(r,e){let t=[];return typeof r=="string"?r.split(/\s*,\s*/).forEach(n=>Eo(n,t,e)):t.push(r),t}function Eo(r,e,t){if(r[0]==":"){let l=To(r,t);if(typeof l=="function"){e.push(l);return}r=l}let n=r.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(n==null||n.length<4)return t.push(ji(r)),e;let i=n[1],o=n[2],s=n[3];e.push(rr(i,s));let a=i==jt&&s==jt;o[0]=="<"&&!a&&e.push(rr(s,i))}function To(r,e){switch(r){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,n)=>parseFloat(n)>parseFloat(t);case":decrement":return(t,n)=>parseFloat(n)<parseFloat(t);default:return e.push(Ui(r)),"* => *"}}var Dt=new Set(["true","1"]),Ft=new Set(["false","0"]);function rr(r,e){let t=Dt.has(r)||Ft.has(r),n=Dt.has(e)||Ft.has(e);return(i,o)=>{let s=r==jt||r==i,a=e==jt||e==o;return!s&&t&&typeof i=="boolean"&&(s=i?Dt.has(r):Ft.has(r)),!a&&n&&typeof o=="boolean"&&(a=o?Dt.has(e):Ft.has(e)),s&&a}}var fr=":self",wo=new RegExp(`s*${fr}s*,?`,"g");function hr(r,e,t,n){return new Sn(r).build(e,t,n)}var or="",Sn=class{_driver;constructor(e){this._driver=e}build(e,t,n){let i=new Mn(t);return this._resetContextStyleTimingState(i),Y(this,Ke(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector=or,e.collectedStyles=new Map,e.collectedStyles.set(or,new Map),e.currentTime=0}visitTrigger(e,t){let n=t.queryCount=0,i=t.depCount=0,o=[],s=[];return e.name.charAt(0)=="@"&&t.errors.push(Oi()),e.definitions.forEach(a=>{if(this._resetContextStyleTimingState(t),a.type==w.State){let l=a,p=l.name;p.toString().split(/\s*,\s*/).forEach(u=>{l.name=u,o.push(this.visitState(l,t))}),l.name=p}else if(a.type==w.Transition){let l=this.visitTransition(a,t);n+=l.queryCount,i+=l.depCount,s.push(l)}else t.errors.push(Ai())}),{type:w.Trigger,name:e.name,states:o,transitions:s,queryCount:n,depCount:i,options:null}}visitState(e,t){let n=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(n.containsDynamicStyles){let o=new Set,s=i||{};n.styles.forEach(a=>{a instanceof Map&&a.forEach(l=>{gn(l).forEach(p=>{s.hasOwnProperty(p)||o.add(p)})})}),o.size&&t.errors.push(ki(e.name,[...o.values()]))}return{type:w.State,name:e.name,style:n,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;let n=Y(this,Ke(e.animation),t),i=Mo(e.expr,t.errors);return{type:w.Transition,matchers:i,animation:n,queryCount:t.queryCount,depCount:t.depCount,options:Ne(e.options)}}visitSequence(e,t){return{type:w.Sequence,steps:e.steps.map(n=>Y(this,n,t)),options:Ne(e.options)}}visitGroup(e,t){let n=t.currentTime,i=0,o=e.steps.map(s=>{t.currentTime=n;let a=Y(this,s,t);return i=Math.max(i,t.currentTime),a});return t.currentTime=i,{type:w.Group,steps:o,options:Ne(e.options)}}visitAnimate(e,t){let n=Ao(e.timings,t.errors);t.currentAnimateTimings=n;let i,o=e.styles?e.styles:nn({});if(o.type==w.Keyframes)i=this.visitKeyframes(o,t);else{let s=e.styles,a=!1;if(!s){a=!0;let p={};n.easing&&(p.easing=n.easing),s=nn(p)}t.currentTime+=n.duration+n.delay;let l=this.visitStyle(s,t);l.isEmptyStep=a,i=l}return t.currentAnimateTimings=null,{type:w.Animate,timings:n,style:i,options:null}}visitStyle(e,t){let n=this._makeStyleAst(e,t);return this._validateStyleAst(n,t),n}_makeStyleAst(e,t){let n=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let a of i)typeof a=="string"?a===ae?n.push(a):t.errors.push(Ni(a)):n.push(new Map(Object.entries(a)));let o=!1,s=null;return n.forEach(a=>{if(a instanceof Map&&(a.has("easing")&&(s=a.get("easing"),a.delete("easing")),!o)){for(let l of a.values())if(l.toString().indexOf(un)>=0){o=!0;break}}}),{type:w.Style,styles:n,easing:s,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){let n=t.currentAnimateTimings,i=t.currentTime,o=t.currentTime;n&&o>0&&(o-=n.duration+n.delay),e.styles.forEach(s=>{typeof s!="string"&&s.forEach((a,l)=>{let p=t.collectedStyles.get(t.currentQuerySelector),u=p.get(l),f=!0;u&&(o!=i&&o>=u.startTime&&i<=u.endTime&&(t.errors.push(Ii(l,u.startTime,u.endTime,o,i)),f=!1),o=u.startTime),f&&p.set(l,{startTime:o,endTime:i}),t.options&&tr(a,t.options,t.errors)})})}visitKeyframes(e,t){let n={type:w.Keyframes,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(Ri()),n;let i=1,o=0,s=[],a=!1,l=!1,p=0,u=e.steps.map(V=>{let j=this._makeStyleAst(V,t),B=j.offset!=null?j.offset:Oo(j.styles),H=0;return B!=null&&(o++,H=j.offset=B),l=l||H<0||H>1,a=a||H<p,p=H,s.push(H),j});l&&t.errors.push(Di()),a&&t.errors.push(Fi());let f=e.steps.length,T=0;o>0&&o<f?t.errors.push(Li()):o==0&&(T=i/(f-1));let C=f-1,g=t.currentTime,b=t.currentAnimateTimings,R=b.duration;return u.forEach((V,j)=>{let B=T>0?j==C?1:T*j:s[j],H=B*R;t.currentTime=g+b.delay+H,b.duration=H,this._validateStyleAst(V,t),V.offset=B,n.styles.push(V)}),n}visitReference(e,t){return{type:w.Reference,animation:Y(this,Ke(e.animation),t),options:Ne(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:w.AnimateChild,options:Ne(e.options)}}visitAnimateRef(e,t){return{type:w.AnimateRef,animation:this.visitReference(e.animation,t),options:Ne(e.options)}}visitQuery(e,t){let n=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;let[o,s]=Po(e.selector);t.currentQuerySelector=n.length?n+" "+o:o,G(t.collectedStyles,t.currentQuerySelector,new Map);let a=Y(this,Ke(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=n,{type:w.Query,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:s,animation:a,originalSelector:e.selector,options:Ne(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(zi());let n=e.timings==="full"?{duration:0,delay:0,easing:"full"}:Ze(e.timings,t.errors,!0);return{type:w.Stagger,animation:Y(this,Ke(e.animation),t),timings:n,options:null}}};function Po(r){let e=!!r.split(/\s*,\s*/).find(t=>t==fr);return e&&(r=r.replace(wo,"")),r=r.replace(/@\*/g,Xe).replace(/@\w+/g,t=>Xe+"-"+t.slice(1)).replace(/:animating/g,Nt),[r,e]}function xo(r){return r?K({},r):null}var Mn=class{errors;queryCount=0;depCount=0;currentTransition=null;currentQuery=null;currentQuerySelector=null;currentAnimateTimings=null;currentTime=0;collectedStyles=new Map;options=null;unsupportedCSSPropertiesFound=new Set;constructor(e){this.errors=e}};function Oo(r){if(typeof r=="string")return null;let e=null;if(Array.isArray(r))r.forEach(t=>{if(t instanceof Map&&t.has("offset")){let n=t;e=parseFloat(n.get("offset")),n.delete("offset")}});else if(r instanceof Map&&r.has("offset")){let t=r;e=parseFloat(t.get("offset")),t.delete("offset")}return e}function Ao(r,e){if(r.hasOwnProperty("duration"))return r;if(typeof r=="number"){let o=Ze(r,e).duration;return yn(o,0,"")}let t=r;if(t.split(/\s+/).some(o=>o.charAt(0)=="{"&&o.charAt(1)=="{")){let o=yn(0,0,"");return o.dynamic=!0,o.strValue=t,o}let i=Ze(t,e);return yn(i.duration,i.delay,i.easing)}function Ne(r){return r?(r=K({},r),r.params&&(r.params=xo(r.params))):r={},r}function yn(r,e,t){return{duration:r,delay:e,easing:t}}function Rn(r,e,t,n,i,o,s=null,a=!1){return{type:1,element:r,keyframes:e,preStyleProps:t,postStyleProps:n,duration:i,delay:o,totalTime:i+o,easing:s,subTimeline:a}}var et=class{_map=new Map;get(e){return this._map.get(e)||[]}append(e,t){let n=this._map.get(e);n||this._map.set(e,n=[]),n.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}},ko=1,No=":enter",Io=new RegExp(No,"g"),Ro=":leave",Do=new RegExp(Ro,"g");function gr(r,e,t,n,i,o=new Map,s=new Map,a,l,p=[]){return new En().buildKeyframes(r,e,t,n,i,o,s,a,l,p)}var En=class{buildKeyframes(e,t,n,i,o,s,a,l,p,u=[]){p=p||new et;let f=new Tn(e,t,p,i,o,u,[]);f.options=l;let T=l.delay?fe(l.delay):0;f.currentTimeline.delayNextStep(T),f.currentTimeline.setStyles([s],null,f.errors,l),Y(this,n,f);let C=f.timelines.filter(g=>g.containsAnimation());if(C.length&&a.size){let g;for(let b=C.length-1;b>=0;b--){let R=C[b];if(R.element===t){g=R;break}}g&&!g.allowOnlyTimelineStyles()&&g.setStyles([a],null,f.errors,l)}return C.length?C.map(g=>g.buildKeyframes()):[Rn(t,[],[],[],0,T,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){let n=t.subInstructions.get(t.element);if(n){let i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,s=this._visitSubInstructions(n,i,i.options);o!=s&&t.transformIntoNewTimeline(s)}t.previousNode=e}visitAnimateRef(e,t){let n=t.createSubContext(e.options);n.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,n),this.visitReference(e.animation,n),t.transformIntoNewTimeline(n.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,n){for(let i of e){let o=i?.delay;if(o){let s=typeof o=="number"?o:fe(He(o,i?.params??{},t.errors));n.delayNextStep(s)}}}_visitSubInstructions(e,t,n){let o=t.currentTimeline.currentTime,s=n.duration!=null?fe(n.duration):null,a=n.delay!=null?fe(n.delay):null;return s!==0&&e.forEach(l=>{let p=t.appendInstructionToTimeline(l,s,a);o=Math.max(o,p.duration+p.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),Y(this,e.animation,t),t.previousNode=e}visitSequence(e,t){let n=t.subContextCount,i=t,o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),o.delay!=null)){i.previousNode.type==w.Style&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=Ut);let s=fe(o.delay);i.delayNextStep(s)}e.steps.length&&(e.steps.forEach(s=>Y(this,s,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>n&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){let n=[],i=t.currentTimeline.currentTime,o=e.options&&e.options.delay?fe(e.options.delay):0;e.steps.forEach(s=>{let a=t.createSubContext(e.options);o&&a.delayNextStep(o),Y(this,s,a),i=Math.max(i,a.currentTimeline.currentTime),n.push(a.currentTimeline)}),n.forEach(s=>t.currentTimeline.mergeTimelineCollectedStyles(s)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){let n=e.strValue,i=t.params?He(n,t.params,t.errors):n;return Ze(i,t.errors)}else return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){let n=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;n.delay&&(t.incrementTime(n.delay),i.snapshotCurrentStyles());let o=e.style;o.type==w.Keyframes?this.visitKeyframes(o,t):(t.incrementTime(n.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){let n=t.currentTimeline,i=t.currentAnimateTimings;!i&&n.hasCurrentStyleProperties()&&n.forwardFrame();let o=i&&i.easing||e.easing;e.isEmptyStep?n.applyEmptyStep(o):n.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){let n=t.currentAnimateTimings,i=t.currentTimeline.duration,o=n.duration,a=t.createSubContext().currentTimeline;a.easing=n.easing,e.styles.forEach(l=>{let p=l.offset||0;a.forwardTime(p*o),a.setStyles(l.styles,l.easing,t.errors,t.options),a.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(a),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){let n=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?fe(i.delay):0;o&&(t.previousNode.type===w.Style||n==0&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=Ut);let s=n,a=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=a.length;let l=null;a.forEach((p,u)=>{t.currentQueryIndex=u;let f=t.createSubContext(e.options,p);o&&f.delayNextStep(o),p===t.element&&(l=f.currentTimeline),Y(this,e.animation,f),f.currentTimeline.applyStylesToKeyframe();let T=f.currentTimeline.currentTime;s=Math.max(s,T)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(s),l&&(t.currentTimeline.mergeTimelineCollectedStyles(l),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){let n=t.parentContext,i=t.currentTimeline,o=e.timings,s=Math.abs(o.duration),a=s*(t.currentQueryTotal-1),l=s*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":l=a-l;break;case"full":l=n.currentStaggerTime;break}let u=t.currentTimeline;l&&u.delayNextStep(l);let f=u.currentTime;Y(this,e.animation,t),t.previousNode=e,n.currentStaggerTime=i.currentTime-f+(i.startTime-n.currentTimeline.startTime)}},Ut={},Tn=class r{_driver;element;subInstructions;_enterClassName;_leaveClassName;errors;timelines;parentContext=null;currentTimeline;currentAnimateTimings=null;previousNode=Ut;subContextCount=0;options={};currentQueryIndex=0;currentQueryTotal=0;currentStaggerTime=0;constructor(e,t,n,i,o,s,a,l){this._driver=e,this.element=t,this.subInstructions=n,this._enterClassName=i,this._leaveClassName=o,this.errors=s,this.timelines=a,this.currentTimeline=l||new Kt(this._driver,t,0),a.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;let n=e,i=this.options;n.duration!=null&&(i.duration=fe(n.duration)),n.delay!=null&&(i.delay=fe(n.delay));let o=n.params;if(o){let s=i.params;s||(s=this.options.params={}),Object.keys(o).forEach(a=>{(!t||!s.hasOwnProperty(a))&&(s[a]=He(o[a],s,this.errors))})}}_copyOptions(){let e={};if(this.options){let t=this.options.params;if(t){let n=e.params={};Object.keys(t).forEach(i=>{n[i]=t[i]})}}return e}createSubContext(e=null,t,n){let i=t||this.element,o=new r(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,n||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=Ut,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,n){let i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(n??0)+e.delay,easing:""},o=new wn(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,n,i,o,s){let a=[];if(i&&a.push(this.element),e.length>0){e=e.replace(Io,"."+this._enterClassName),e=e.replace(Do,"."+this._leaveClassName);let l=n!=1,p=this._driver.query(this.element,e,l);n!==0&&(p=n<0?p.slice(p.length+n,p.length):p.slice(0,n)),a.push(...p)}return!o&&a.length==0&&s.push(Vi(t)),a}},Kt=class r{_driver;element;startTime;_elementTimelineStylesLookup;duration=0;easing=null;_previousKeyframe=new Map;_currentKeyframe=new Map;_keyframes=new Map;_styleSummary=new Map;_localTimelineStyles=new Map;_globalTimelineStyles;_pendingStyles=new Map;_backFill=new Map;_currentEmptyStepKeyframe=null;constructor(e,t,n,i){this._driver=e,this.element=t,this.startTime=n,this._elementTimelineStylesLookup=i,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){let t=this._keyframes.size===1&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new r(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=ko,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,n]of this._globalTimelineStyles)this._backFill.set(t,n||ae),this._currentKeyframe.set(t,ae);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,n,i){t&&this._previousKeyframe.set("easing",t);let o=i&&i.params||{},s=Fo(e,this._globalTimelineStyles);for(let[a,l]of s){let p=He(l,o,n);this._pendingStyles.set(a,p),this._localTimelineStyles.has(a)||this._backFill.set(a,this._globalTimelineStyles.get(a)??ae),this._updateStyle(a,p)}}applyStylesToKeyframe(){this._pendingStyles.size!=0&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){let e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,n)=>{let i=this._styleSummary.get(n);(!i||t.time>i.time)&&this._updateStyle(n,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();let e=new Set,t=new Set,n=this._keyframes.size===1&&this.duration===0,i=[];this._keyframes.forEach((a,l)=>{let p=new Map([...this._backFill,...a]);p.forEach((u,f)=>{u===We?e.add(f):u===ae&&t.add(f)}),n||p.set("offset",l/this.duration),i.push(p)});let o=[...e.values()],s=[...t.values()];if(n){let a=i[0],l=new Map(a);a.set("offset",0),l.set("offset",1),i=[a,l]}return Rn(this.element,i,o,s,this.duration,this.startTime,this.easing,!1)}},wn=class extends Kt{keyframes;preStyleProps;postStyleProps;_stretchStartingKeyframe;timings;constructor(e,t,n,i,o,s,a=!1){super(e,t,s.delay),this.keyframes=n,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=a,this.timings={duration:s.duration,delay:s.delay,easing:s.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:n,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){let o=[],s=n+t,a=t/s,l=new Map(e[0]);l.set("offset",0),o.push(l);let p=new Map(e[0]);p.set("offset",sr(a)),o.push(p);let u=e.length-1;for(let f=1;f<=u;f++){let T=new Map(e[f]),C=T.get("offset"),g=t+C*n;T.set("offset",sr(g/s)),o.push(T)}n=s,t=0,i="",e=o}return Rn(this.element,e,this.preStyleProps,this.postStyleProps,n,t,i,!0)}};function sr(r,e=3){let t=Math.pow(10,e-1);return Math.round(r*t)/t}function Fo(r,e){let t=new Map,n;return r.forEach(i=>{if(i==="*"){n??=e.keys();for(let o of n)t.set(o,ae)}else for(let[o,s]of i)t.set(o,s)}),t}function ar(r,e,t,n,i,o,s,a,l,p,u,f,T){return{type:0,element:r,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:n,toStyles:s,timelines:a,queriedElements:l,preStyleProps:p,postStyleProps:u,totalTime:f,errors:T}}var _n={},Ht=class{_triggerName;ast;_stateStyles;constructor(e,t,n){this._triggerName=e,this.ast=t,this._stateStyles=n}match(e,t,n,i){return Lo(this.ast.matchers,e,t,n,i)}buildStyles(e,t,n){let i=this._stateStyles.get("*");return e!==void 0&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,n):new Map}build(e,t,n,i,o,s,a,l,p,u){let f=[],T=this.ast.options&&this.ast.options.params||_n,C=a&&a.params||_n,g=this.buildStyles(n,C,f),b=l&&l.params||_n,R=this.buildStyles(i,b,f),V=new Set,j=new Map,B=new Map,H=i==="void",De={params:yr(b,T),delay:this.ast.options?.delay},me=u?[]:gr(e,t,this.ast.animation,o,s,g,R,De,p,f),Q=0;return me.forEach($=>{Q=Math.max($.duration+$.delay,Q)}),f.length?ar(t,this._triggerName,n,i,H,g,R,[],[],j,B,Q,f):(me.forEach($=>{let Ee=$.element,Fe=G(j,Ee,new Set);$.preStyleProps.forEach(Te=>Fe.add(Te));let Dn=G(B,Ee,new Set);$.postStyleProps.forEach(Te=>Dn.add(Te)),Ee!==t&&V.add(Ee)}),ar(t,this._triggerName,n,i,H,g,R,me,[...V.values()],j,B,Q))}};function Lo(r,e,t,n,i){return r.some(o=>o(e,t,n,i))}function yr(r,e){let t=K({},e);return Object.entries(r).forEach(([n,i])=>{i!=null&&(t[n]=i)}),t}var Pn=class{styles;defaultParams;normalizer;constructor(e,t,n){this.styles=e,this.defaultParams=t,this.normalizer=n}buildStyles(e,t){let n=new Map,i=yr(e,this.defaultParams);return this.styles.styles.forEach(o=>{typeof o!="string"&&o.forEach((s,a)=>{s&&(s=He(s,i,t));let l=this.normalizer.normalizePropertyName(a,t);s=this.normalizer.normalizeStyleValue(a,l,s,t),n.set(a,s)})}),n}};function zo(r,e,t){return new xn(r,e,t)}var xn=class{name;ast;_normalizer;transitionFactories=[];fallbackTransition;states=new Map;constructor(e,t,n){this.name=e,this.ast=t,this._normalizer=n,t.states.forEach(i=>{let o=i.options&&i.options.params||{};this.states.set(i.name,new Pn(i.style,o,n))}),lr(this.states,"true","1"),lr(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new Ht(e,i,this.states))}),this.fallbackTransition=Vo(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,n,i){return this.transitionFactories.find(s=>s.match(e,t,n,i))||null}matchStyles(e,t,n){return this.fallbackTransition.buildStyles(e,t,n)}};function Vo(r,e,t){let n=[(s,a)=>!0],i={type:w.Sequence,steps:[],options:null},o={type:w.Transition,animation:i,matchers:n,options:null,queryCount:0,depCount:0};return new Ht(r,o,e)}function lr(r,e,t){r.has(e)?r.has(t)||r.set(t,r.get(e)):r.has(t)&&r.set(e,r.get(t))}var jo=new et,On=class{bodyNode;_driver;_normalizer;_animations=new Map;_playersById=new Map;players=[];constructor(e,t,n){this.bodyNode=e,this._driver=t,this._normalizer=n}register(e,t){let n=[],i=[],o=hr(this._driver,t,n,i);if(n.length)throw Hi(n);this._animations.set(e,o)}_buildPlayer(e,t,n){let i=e.element,o=cn(this._normalizer,e.keyframes,t,n);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,n={}){let i=[],o=this._animations.get(e),s,a=new Map;if(o?(s=gr(this._driver,t,o,fn,kt,new Map,new Map,n,jo,i),s.forEach(u=>{let f=G(a,u.element,new Map);u.postStyleProps.forEach(T=>f.set(T,null))})):(i.push(qi()),s=[]),i.length)throw Bi(i);a.forEach((u,f)=>{u.forEach((T,C)=>{u.set(C,this._driver.computeStyle(f,C,ae))})});let l=s.map(u=>{let f=a.get(u.element);return this._buildPlayer(u,new Map,f)}),p=he(l);return this._playersById.set(e,p),p.onDestroy(()=>this.destroy(e)),this.players.push(p),p}destroy(e){let t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);let n=this.players.indexOf(t);n>=0&&this.players.splice(n,1)}_getPlayer(e){let t=this._playersById.get(e);if(!t)throw Qi(e);return t}listen(e,t,n,i){let o=Ot(t,"","","");return xt(this._getPlayer(e),n,o,i),()=>{}}command(e,t,n,i){if(n=="register"){this.register(e,i[0]);return}if(n=="create"){let s=i[0]||{};this.create(e,t,s);return}let o=this._getPlayer(e);switch(n){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e);break}}},cr="ng-animate-queued",Uo=".ng-animate-queued",vn="ng-animate-disabled",Ko=".ng-animate-disabled",Ho="ng-star-inserted",qo=".ng-star-inserted",Bo=[],_r={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},Qo={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},ce="__ng_removed",tt=class{namespaceId;value;options;get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;let n=e&&e.hasOwnProperty("value"),i=n?e.value:e;if(this.value=Wo(i),n){let o=e,{value:s}=o,a=Vn(o,["value"]);this.options=a}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){let t=e.params;if(t){let n=this.options.params;Object.keys(t).forEach(i=>{n[i]==null&&(n[i]=t[i])})}}},Je="void",bn=new tt(Je),An=class{id;hostElement;_engine;players=[];_triggers=new Map;_queue=[];_elementListeners=new Map;_hostClassName;constructor(e,t,n){this.id=e,this.hostElement=t,this._engine=n,this._hostClassName="ng-tns-"+e,ne(t,this._hostClassName)}listen(e,t,n,i){if(!this._triggers.has(t))throw $i(n,t);if(n==null||n.length==0)throw Wi(t);if(!Go(n))throw Gi(n,t);let o=G(this._elementListeners,e,[]),s={name:t,phase:n,callback:i};o.push(s);let a=G(this._engine.statesByElement,e,new Map);return a.has(t)||(ne(e,Ye),ne(e,Ye+"-"+t),a.set(t,bn)),()=>{this._engine.afterFlush(()=>{let l=o.indexOf(s);l>=0&&o.splice(l,1),this._triggers.has(t)||a.delete(t)})}}register(e,t){return this._triggers.has(e)?!1:(this._triggers.set(e,t),!0)}_getTrigger(e){let t=this._triggers.get(e);if(!t)throw Yi(e);return t}trigger(e,t,n,i=!0){let o=this._getTrigger(t),s=new nt(this.id,t,e),a=this._engine.statesByElement.get(e);a||(ne(e,Ye),ne(e,Ye+"-"+t),this._engine.statesByElement.set(e,a=new Map));let l=a.get(t),p=new tt(n,this.id);if(!(n&&n.hasOwnProperty("value"))&&l&&p.absorbOptions(l.options),a.set(t,p),l||(l=bn),!(p.value===Je)&&l.value===p.value){if(!Zo(l.params,p.params)){let b=[],R=o.matchStyles(l.value,l.params,b),V=o.matchStyles(p.value,p.params,b);b.length?this._engine.reportError(b):this._engine.afterFlush(()=>{Me(e,R),le(e,V)})}return}let T=G(this._engine.playersByElement,e,[]);T.forEach(b=>{b.namespaceId==this.id&&b.triggerName==t&&b.queued&&b.destroy()});let C=o.matchTransition(l.value,p.value,e,p.params),g=!1;if(!C){if(!i)return;C=o.fallbackTransition,g=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:C,fromState:l,toState:p,player:s,isFallbackTransition:g}),g||(ne(e,cr),s.onStart(()=>{qe(e,cr)})),s.onDone(()=>{let b=this.players.indexOf(s);b>=0&&this.players.splice(b,1);let R=this._engine.playersByElement.get(e);if(R){let V=R.indexOf(s);V>=0&&R.splice(V,1)}}),this.players.push(s),T.push(s),s}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,n)=>{this._elementListeners.set(n,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);let t=this._engine.playersByElement.get(e);t&&(t.forEach(n=>n.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){let n=this._engine.driver.query(e,Xe,!0);n.forEach(i=>{if(i[ce])return;let o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(s=>s.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>n.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,n,i){let o=this._engine.statesByElement.get(e),s=new Map;if(o){let a=[];if(o.forEach((l,p)=>{if(s.set(p,l.value),this._triggers.has(p)){let u=this.trigger(e,p,Je,i);u&&a.push(u)}}),a.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,s),n&&he(a).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){let t=this._elementListeners.get(e),n=this._engine.statesByElement.get(e);if(t&&n){let i=new Set;t.forEach(o=>{let s=o.name;if(i.has(s))return;i.add(s);let l=this._triggers.get(s).fallbackTransition,p=n.get(s)||bn,u=new tt(Je),f=new nt(this.id,s,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:s,transition:l,fromState:p,toState:u,player:f,isFallbackTransition:!0})})}}removeNode(e,t){let n=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(n.totalAnimations){let o=n.players.length?n.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let s=e;for(;s=s.parentNode;)if(n.statesByElement.get(s)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)n.markElementAsRemoved(this.id,e,!1,t);else{let o=e[ce];(!o||o===_r)&&(n.afterFlush(()=>this.clearElementCache(e)),n.destroyInnerAnimations(e),n._onRemovalComplete(e,t))}}insertNode(e,t){ne(e,this._hostClassName)}drainQueuedTransitions(e){let t=[];return this._queue.forEach(n=>{let i=n.player;if(i.destroyed)return;let o=n.element,s=this._elementListeners.get(o);s&&s.forEach(a=>{if(a.name==n.triggerName){let l=Ot(o,n.triggerName,n.fromState.value,n.toState.value);l._data=e,xt(n.player,a.phase,l,a.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(n)}),this._queue=[],t.sort((n,i)=>{let o=n.transition.ast.depCount,s=i.transition.ast.depCount;return o==0||s==0?o-s:this._engine.driver.containsElement(n.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}},kn=class{bodyNode;driver;_normalizer;players=[];newHostElements=new Map;playersByElement=new Map;playersByQueriedElement=new Map;statesByElement=new Map;disabledNodes=new Set;totalAnimations=0;totalQueuedPlayers=0;_namespaceLookup={};_namespaceList=[];_flushFns=[];_whenQuietFns=[];namespacesByHostElement=new Map;collectedEnterElements=[];collectedLeaveElements=[];onRemovalComplete=(e,t)=>{};_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,n){this.bodyNode=e,this.driver=t,this._normalizer=n}get queuedPlayers(){let e=[];return this._namespaceList.forEach(t=>{t.players.forEach(n=>{n.queued&&e.push(n)})}),e}createNamespace(e,t){let n=new An(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(n,t):(this.newHostElements.set(t,n),this.collectEnterElement(t)),this._namespaceLookup[e]=n}_balanceNamespaceList(e,t){let n=this._namespaceList,i=this.namespacesByHostElement;if(n.length-1>=0){let s=!1,a=this.driver.getParentElement(t);for(;a;){let l=i.get(a);if(l){let p=n.indexOf(l);n.splice(p+1,0,e),s=!0;break}a=this.driver.getParentElement(a)}s||n.unshift(e)}else n.push(e);return i.set(t,e),e}register(e,t){let n=this._namespaceLookup[e];return n||(n=this.createNamespace(e,t)),n}registerTrigger(e,t,n){let i=this._namespaceLookup[e];i&&i.register(t,n)&&this.totalAnimations++}destroy(e,t){e&&(this.afterFlush(()=>{}),this.afterFlushAnimationsDone(()=>{let n=this._fetchNamespace(e);this.namespacesByHostElement.delete(n.hostElement);let i=this._namespaceList.indexOf(n);i>=0&&this._namespaceList.splice(i,1),n.destroy(t),delete this._namespaceLookup[e]}))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){let t=new Set,n=this.statesByElement.get(e);if(n){for(let i of n.values())if(i.namespaceId){let o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}}return t}trigger(e,t,n,i){if(Lt(t)){let o=this._fetchNamespace(e);if(o)return o.trigger(t,n,i),!0}return!1}insertNode(e,t,n,i){if(!Lt(t))return;let o=t[ce];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;let s=this.collectedLeaveElements.indexOf(t);s>=0&&this.collectedLeaveElements.splice(s,1)}if(e){let s=this._fetchNamespace(e);s&&s.insertNode(t,n)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),ne(e,vn)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),qe(e,vn))}removeNode(e,t,n){if(Lt(t)){let i=e?this._fetchNamespace(e):null;i?i.removeNode(t,n):this.markElementAsRemoved(e,t,!1,n);let o=this.namespacesByHostElement.get(t);o&&o.id!==e&&o.removeNode(t,n)}else this._onRemovalComplete(t,n)}markElementAsRemoved(e,t,n,i,o){this.collectedLeaveElements.push(t),t[ce]={namespaceId:e,setForRemoval:i,hasAnimation:n,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,n,i,o){return Lt(t)?this._fetchNamespace(e).listen(t,n,i,o):()=>{}}_buildInstruction(e,t,n,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,n,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,Xe,!0);t.forEach(n=>this.destroyActiveAnimationsForElement(n)),this.playersByQueriedElement.size!=0&&(t=this.driver.query(e,Nt,!0),t.forEach(n=>this.finishActiveQueriedAnimationOnElement(n)))}destroyActiveAnimationsForElement(e){let t=this.playersByElement.get(e);t&&t.forEach(n=>{n.queued?n.markedForDestroy=!0:n.destroy()})}finishActiveQueriedAnimationOnElement(e){let t=this.playersByQueriedElement.get(e);t&&t.forEach(n=>n.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return he(this.players).onDone(()=>e());e()})}processLeaveNode(e){let t=e[ce];if(t&&t.setForRemoval){if(e[ce]=_r,t.namespaceId){this.destroyInnerAnimations(e);let n=this._fetchNamespace(t.namespaceId);n&&n.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(vn)&&this.markElementAsDisabled(e,!1),this.driver.query(e,Ko,!0).forEach(n=>{this.markElementAsDisabled(n,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((n,i)=>this._balanceNamespaceList(n,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let n=0;n<this.collectedEnterElements.length;n++){let i=this.collectedEnterElements[n];ne(i,Ho)}if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){let n=[];try{t=this._flushAnimations(n,e)}finally{for(let i=0;i<n.length;i++)n[i]()}}else for(let n=0;n<this.collectedLeaveElements.length;n++){let i=this.collectedLeaveElements[n];this.processLeaveNode(i)}if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(n=>n()),this._flushFns=[],this._whenQuietFns.length){let n=this._whenQuietFns;this._whenQuietFns=[],t.length?he(t).onDone(()=>{n.forEach(i=>i())}):n.forEach(i=>i())}}reportError(e){throw Xi(e)}_flushAnimations(e,t){let n=new et,i=[],o=new Map,s=[],a=new Map,l=new Map,p=new Map,u=new Set;this.disabledNodes.forEach(h=>{u.add(h);let y=this.driver.query(h,Uo,!0);for(let v=0;v<y.length;v++)u.add(y[v])});let f=this.bodyNode,T=Array.from(this.statesByElement.keys()),C=dr(T,this.collectedEnterElements),g=new Map,b=0;C.forEach((h,y)=>{let v=fn+b++;g.set(y,v),h.forEach(x=>ne(x,v))});let R=[],V=new Set,j=new Set;for(let h=0;h<this.collectedLeaveElements.length;h++){let y=this.collectedLeaveElements[h],v=y[ce];v&&v.setForRemoval&&(R.push(y),V.add(y),v.hasAnimation?this.driver.query(y,qo,!0).forEach(x=>V.add(x)):j.add(y))}let B=new Map,H=dr(T,Array.from(V));H.forEach((h,y)=>{let v=kt+b++;B.set(y,v),h.forEach(x=>ne(x,v))}),e.push(()=>{C.forEach((h,y)=>{let v=g.get(y);h.forEach(x=>qe(x,v))}),H.forEach((h,y)=>{let v=B.get(y);h.forEach(x=>qe(x,v))}),R.forEach(h=>{this.processLeaveNode(h)})});let De=[],me=[];for(let h=this._namespaceList.length-1;h>=0;h--)this._namespaceList[h].drainQueuedTransitions(t).forEach(v=>{let x=v.player,U=v.element;if(De.push(x),this.collectedEnterElements.length){let q=U[ce];if(q&&q.setForMove){if(q.previousTriggersValues&&q.previousTriggersValues.has(v.triggerName)){let we=q.previousTriggersValues.get(v.triggerName),J=this.statesByElement.get(v.element);if(J&&J.has(v.triggerName)){let it=J.get(v.triggerName);it.value=we,J.set(v.triggerName,it)}}x.destroy();return}}let pe=!f||!this.driver.containsElement(f,U),X=B.get(U),ge=g.get(U),D=this._buildInstruction(v,n,ge,X,pe);if(D.errors&&D.errors.length){me.push(D);return}if(pe){x.onStart(()=>Me(U,D.fromStyles)),x.onDestroy(()=>le(U,D.toStyles)),i.push(x);return}if(v.isFallbackTransition){x.onStart(()=>Me(U,D.fromStyles)),x.onDestroy(()=>le(U,D.toStyles)),i.push(x);return}let zn=[];D.timelines.forEach(q=>{q.stretchStartingKeyframe=!0,this.disabledNodes.has(q.element)||zn.push(q)}),D.timelines=zn,n.append(U,D.timelines);let Tr={instruction:D,player:x,element:U};s.push(Tr),D.queriedElements.forEach(q=>G(a,q,[]).push(x)),D.preStyleProps.forEach((q,we)=>{if(q.size){let J=l.get(we);J||l.set(we,J=new Set),q.forEach((it,Xt)=>J.add(Xt))}}),D.postStyleProps.forEach((q,we)=>{let J=p.get(we);J||p.set(we,J=new Set),q.forEach((it,Xt)=>J.add(Xt))})});if(me.length){let h=[];me.forEach(y=>{h.push(Zi(y.triggerName,y.errors))}),De.forEach(y=>y.destroy()),this.reportError(h)}let Q=new Map,$=new Map;s.forEach(h=>{let y=h.element;n.has(y)&&($.set(y,y),this._beforeAnimationBuild(h.player.namespaceId,h.instruction,Q))}),i.forEach(h=>{let y=h.element;this._getPreviousPlayers(y,!1,h.namespaceId,h.triggerName,null).forEach(x=>{G(Q,y,[]).push(x),x.destroy()})});let Ee=R.filter(h=>ur(h,l,p)),Fe=new Map;pr(Fe,this.driver,j,p,ae).forEach(h=>{ur(h,l,p)&&Ee.push(h)});let Te=new Map;C.forEach((h,y)=>{pr(Te,this.driver,new Set(h),l,We)}),Ee.forEach(h=>{let y=Fe.get(h),v=Te.get(h);Fe.set(h,new Map([...y?.entries()??[],...v?.entries()??[]]))});let Yt=[],Fn=[],Ln={};s.forEach(h=>{let{element:y,player:v,instruction:x}=h;if(n.has(y)){if(u.has(y)){v.onDestroy(()=>le(y,x.toStyles)),v.disabled=!0,v.overrideTotalTime(x.totalTime),i.push(v);return}let U=Ln;if($.size>1){let X=y,ge=[];for(;X=X.parentNode;){let D=$.get(X);if(D){U=D;break}ge.push(X)}ge.forEach(D=>$.set(D,U))}let pe=this._buildAnimation(v.namespaceId,x,Q,o,Te,Fe);if(v.setRealPlayer(pe),U===Ln)Yt.push(v);else{let X=this.playersByElement.get(U);X&&X.length&&(v.parentPlayer=he(X)),i.push(v)}}else Me(y,x.fromStyles),v.onDestroy(()=>le(y,x.toStyles)),Fn.push(v),u.has(y)&&i.push(v)}),Fn.forEach(h=>{let y=o.get(h.element);if(y&&y.length){let v=he(y);h.setRealPlayer(v)}}),i.forEach(h=>{h.parentPlayer?h.syncPlayerEvents(h.parentPlayer):h.destroy()});for(let h=0;h<R.length;h++){let y=R[h],v=y[ce];if(qe(y,kt),v&&v.hasAnimation)continue;let x=[];if(a.size){let pe=a.get(y);pe&&pe.length&&x.push(...pe);let X=this.driver.query(y,Nt,!0);for(let ge=0;ge<X.length;ge++){let D=a.get(X[ge]);D&&D.length&&x.push(...D)}}let U=x.filter(pe=>!pe.destroyed);U.length?Yo(this,y,U):this.processLeaveNode(y)}return R.length=0,Yt.forEach(h=>{this.players.push(h),h.onDone(()=>{h.destroy();let y=this.players.indexOf(h);this.players.splice(y,1)}),h.play()}),Yt}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,n,i,o){let s=[];if(t){let a=this.playersByQueriedElement.get(e);a&&(s=a)}else{let a=this.playersByElement.get(e);if(a){let l=!o||o==Je;a.forEach(p=>{p.queued||!l&&p.triggerName!=i||s.push(p)})}}return(n||i)&&(s=s.filter(a=>!(n&&n!=a.namespaceId||i&&i!=a.triggerName))),s}_beforeAnimationBuild(e,t,n){let i=t.triggerName,o=t.element,s=t.isRemovalTransition?void 0:e,a=t.isRemovalTransition?void 0:i;for(let l of t.timelines){let p=l.element,u=p!==o,f=G(n,p,[]);this._getPreviousPlayers(p,u,s,a,t.toState).forEach(C=>{let g=C.getRealPlayer();g.beforeDestroy&&g.beforeDestroy(),C.destroy(),f.push(C)})}Me(o,t.fromStyles)}_buildAnimation(e,t,n,i,o,s){let a=t.triggerName,l=t.element,p=[],u=new Set,f=new Set,T=t.timelines.map(g=>{let b=g.element;u.add(b);let R=b[ce];if(R&&R.removedBeforeQueried)return new Ae(g.duration,g.delay);let V=b!==l,j=Xo((n.get(b)||Bo).map(Q=>Q.getRealPlayer())).filter(Q=>{let $=Q;return $.element?$.element===b:!1}),B=o.get(b),H=s.get(b),De=cn(this._normalizer,g.keyframes,B,H),me=this._buildPlayer(g,De,j);if(g.subTimeline&&i&&f.add(b),V){let Q=new nt(e,a,b);Q.setRealPlayer(me),p.push(Q)}return me});p.forEach(g=>{G(this.playersByQueriedElement,g.element,[]).push(g),g.onDone(()=>$o(this.playersByQueriedElement,g.element,g))}),u.forEach(g=>ne(g,hn));let C=he(T);return C.onDestroy(()=>{u.forEach(g=>qe(g,hn)),le(l,t.toStyles)}),f.forEach(g=>{G(i,g,[]).push(C)}),C}_buildPlayer(e,t,n){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,n):new Ae(e.duration,e.delay)}},nt=class{namespaceId;triggerName;element;_player=new Ae;_containsRealPlayer=!1;_queuedCallbacks=new Map;destroyed=!1;parentPlayer=null;markedForDestroy=!1;disabled=!1;queued=!0;totalTime=0;constructor(e,t,n){this.namespaceId=e,this.triggerName=t,this.element=n}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,n)=>{t.forEach(i=>xt(e,n,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){let t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){G(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return this.queued?!1:this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){let t=this._player;t.triggerCallback&&t.triggerCallback(e)}};function $o(r,e,t){let n=r.get(e);if(n){if(n.length){let i=n.indexOf(t);n.splice(i,1)}n.length==0&&r.delete(e)}return n}function Wo(r){return r??null}function Lt(r){return r&&r.nodeType===1}function Go(r){return r=="start"||r=="done"}function mr(r,e){let t=r.style.display;return r.style.display=e??"none",t}function pr(r,e,t,n,i){let o=[];t.forEach(l=>o.push(mr(l)));let s=[];n.forEach((l,p)=>{let u=new Map;l.forEach(f=>{let T=e.computeStyle(p,f,i);u.set(f,T),(!T||T.length==0)&&(p[ce]=Qo,s.push(p))}),r.set(p,u)});let a=0;return t.forEach(l=>mr(l,o[a++])),s}function dr(r,e){let t=new Map;if(r.forEach(a=>t.set(a,[])),e.length==0)return t;let n=1,i=new Set(e),o=new Map;function s(a){if(!a)return n;let l=o.get(a);if(l)return l;let p=a.parentNode;return t.has(p)?l=p:i.has(p)?l=n:l=s(p),o.set(a,l),l}return e.forEach(a=>{let l=s(a);l!==n&&t.get(l).push(a)}),t}function ne(r,e){r.classList?.add(e)}function qe(r,e){r.classList?.remove(e)}function Yo(r,e,t){he(t).onDone(()=>r.processLeaveNode(e))}function Xo(r){let e=[];return vr(r,e),e}function vr(r,e){for(let t=0;t<r.length;t++){let n=r[t];n instanceof pt?vr(n.players,e):e.push(n)}}function Zo(r,e){let t=Object.keys(r),n=Object.keys(e);if(t.length!=n.length)return!1;for(let i=0;i<t.length;i++){let o=t[i];if(!e.hasOwnProperty(o)||r[o]!==e[o])return!1}return!0}function ur(r,e,t){let n=t.get(r);if(!n)return!1;let i=e.get(r);return i?n.forEach(o=>i.add(o)):e.set(r,n),t.delete(r),!0}var Be=class{_driver;_normalizer;_transitionEngine;_timelineEngine;_triggerCache={};onRemovalComplete=(e,t)=>{};constructor(e,t,n){this._driver=t,this._normalizer=n,this._transitionEngine=new kn(e.body,t,n),this._timelineEngine=new On(e.body,t,n),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,n,i,o){let s=e+"-"+i,a=this._triggerCache[s];if(!a){let l=[],p=[],u=hr(this._driver,o,l,p);if(l.length)throw Ki(i,l);a=zo(i,u,this._normalizer),this._triggerCache[s]=a}this._transitionEngine.registerTrigger(t,i,a)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,n,i){this._transitionEngine.insertNode(e,t,n,i)}onRemove(e,t,n){this._transitionEngine.removeNode(e,t,n)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,n,i){if(n.charAt(0)=="@"){let[o,s]=mn(n),a=i;this._timelineEngine.command(o,t,s,a)}else this._transitionEngine.trigger(e,t,n,i)}listen(e,t,n,i,o){if(n.charAt(0)=="@"){let[s,a]=mn(n);return this._timelineEngine.listen(s,t,a,o)}return this._transitionEngine.listen(e,t,n,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return[...this._transitionEngine.players,...this._timelineEngine.players]}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}afterFlushAnimationsDone(e){this._transitionEngine.afterFlushAnimationsDone(e)}};function Jo(r,e){let t=null,n=null;return Array.isArray(e)&&e.length?(t=Cn(e[0]),e.length>1&&(n=Cn(e[e.length-1]))):e instanceof Map&&(t=Cn(e)),t||n?new es(r,t,n):null}var es=(()=>{class r{_element;_startStyles;_endStyles;static initialStylesByElement=new WeakMap;_state=0;_initialStyles;constructor(t,n,i){this._element=t,this._startStyles=n,this._endStyles=i;let o=r.initialStylesByElement.get(t);o||r.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&le(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(le(this._element,this._initialStyles),this._endStyles&&(le(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(r.initialStylesByElement.delete(this._element),this._startStyles&&(Me(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Me(this._element,this._endStyles),this._endStyles=null),le(this._element,this._initialStyles),this._state=3)}}return r})();function Cn(r){let e=null;return r.forEach((t,n)=>{ts(n)&&(e=e||new Map,e.set(n,t))}),e}function ts(r){return r==="display"||r==="position"}var qt=class{element;keyframes;options;_specialStyles;_onDoneFns=[];_onStartFns=[];_onDestroyFns=[];_duration;_delay;_initialized=!1;_finished=!1;_started=!1;_destroyed=!1;_finalKeyframe;_originalOnDoneFns=[];_originalOnStartFns=[];domPlayer;time=0;parentPlayer=null;currentSnapshot=new Map;constructor(e,t,n,i){this.element=e,this.keyframes=t,this.options=n,this._specialStyles=i,this._duration=n.duration,this._delay=n.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;let e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map;let t=()=>this._onFinish();this.domPlayer.addEventListener("finish",t),this.onDestroy(()=>{this.domPlayer.removeEventListener("finish",t)})}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){let t=[];return e.forEach(n=>{t.push(Object.fromEntries(n))}),t}_triggerWebAnimation(e,t,n){return e.animate(this._convertKeyframesToObject(t),n)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){this.domPlayer===void 0&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return+(this.domPlayer.currentTime??0)/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){let e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((n,i)=>{i!=="offset"&&e.set(i,this._finished?n:Rt(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){let t=e==="start"?this._onStartFns:this._onDoneFns;t.forEach(n=>n()),t.length=0}},Bt=class{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}containsElement(e,t){return pn(e,t)}getParentElement(e){return At(e)}query(e,t,n){return dn(e,t,n)}computeStyle(e,t,n){return Rt(e,t)}animate(e,t,n,i,o,s=[]){let a=i==0?"both":"forwards",l={duration:n,delay:i,fill:a};o&&(l.easing=o);let p=new Map,u=s.filter(C=>C instanceof qt);nr(n,i)&&u.forEach(C=>{C.currentSnapshot.forEach((g,b)=>p.set(b,g))});let f=er(t).map(C=>new Map(C));f=ir(e,f,p);let T=Jo(e,f);return new qt(e,f,l,T)}};var zt="@",br="@.disabled",Qt=class{namespaceId;delegate;engine;_onDestroy;\u0275type=0;constructor(e,t,n,i){this.namespaceId=e,this.delegate=t,this.engine=n,this._onDestroy=i}get data(){return this.delegate.data}destroyNode(e){this.delegate.destroyNode?.(e)}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.engine.afterFlushAnimationsDone(()=>{queueMicrotask(()=>{this.delegate.destroy()})}),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,n,i=!0){this.delegate.insertBefore(e,t,n),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,n){this.parentNode(t)&&this.engine.onRemove(this.namespaceId,t,this.delegate)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,n,i){this.delegate.setAttribute(e,t,n,i)}removeAttribute(e,t,n){this.delegate.removeAttribute(e,t,n)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,n,i){this.delegate.setStyle(e,t,n,i)}removeStyle(e,t,n){this.delegate.removeStyle(e,t,n)}setProperty(e,t,n){t.charAt(0)==zt&&t==br?this.disableAnimations(e,!!n):this.delegate.setProperty(e,t,n)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,n,i){return this.delegate.listen(e,t,n,i)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}},Nn=class extends Qt{factory;constructor(e,t,n,i,o){super(t,n,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,n){t.charAt(0)==zt?t.charAt(1)=="."&&t==br?(n=n===void 0?!0:!!n,this.disableAnimations(e,n)):this.engine.process(this.namespaceId,e,t.slice(1),n):this.delegate.setProperty(e,t,n)}listen(e,t,n,i){if(t.charAt(0)==zt){let o=ns(e),s=t.slice(1),a="";return s.charAt(0)!=zt&&([s,a]=is(s)),this.engine.listen(this.namespaceId,o,s,a,l=>{let p=l._data||-1;this.factory.scheduleListenerCallback(p,n,l)})}return this.delegate.listen(e,t,n,i)}};function ns(r){switch(r){case"body":return document.body;case"document":return document;case"window":return window;default:return r}}function is(r){let e=r.indexOf("."),t=r.substring(0,e),n=r.slice(e+1);return[t,n]}var $t=class{delegate;engine;_zone;_currentId=0;_microtaskId=1;_animationCallbacksBuffer=[];_rendererCache=new Map;_cdRecurDepth=0;constructor(e,t,n){this.delegate=e,this.engine=t,this._zone=n,t.onRemovalComplete=(i,o)=>{o?.removeChild(null,i)}}createRenderer(e,t){let n="",i=this.delegate.createRenderer(e,t);if(!e||!t?.data?.animation){let p=this._rendererCache,u=p.get(i);if(!u){let f=()=>p.delete(i);u=new Qt(n,i,this.engine,f),p.set(i,u)}return u}let o=t.id,s=t.id+"-"+this._currentId;this._currentId++,this.engine.register(s,e);let a=p=>{Array.isArray(p)?p.forEach(a):this.engine.registerTrigger(o,s,e,p.name,p)};return t.data.animation.forEach(a),new Nn(this,s,i,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){queueMicrotask(()=>{this._microtaskId++})}scheduleListenerCallback(e,t,n){if(e>=0&&e<this._microtaskId){this._zone.run(()=>t(n));return}let i=this._animationCallbacksBuffer;i.length==0&&queueMicrotask(()=>{this._zone.run(()=>{i.forEach(o=>{let[s,a]=o;s(a)}),this._animationCallbacksBuffer=[]})}),i.push([t,n])}end(){this._cdRecurDepth--,this._cdRecurDepth==0&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}componentReplaced(e){this.engine.flush(),this.delegate.componentReplaced?.(e)}};var os=(()=>{class r extends Be{constructor(t,n,i){super(t,n,i)}ngOnDestroy(){this.flush()}static \u0275fac=function(n){return new(n||r)(de(ot),de(Ie),de(Re))};static \u0275prov=W({token:r,factory:r.\u0275fac})}return r})();function ss(){return new Vt}function as(r,e,t){return new $t(r,e,t)}var Cr=[{provide:Re,useFactory:ss},{provide:Be,useClass:os},{provide:$n,useFactory:as,deps:[ri,Be,Kn]}],Za=[{provide:Ie,useClass:In},{provide:Jt,useValue:"NoopAnimations"},...Cr],ls=[{provide:Ie,useFactory:()=>new Bt},{provide:Jt,useFactory:()=>"BrowserAnimations"},...Cr];function Sr(){return Hn("NgEagerAnimations"),[...ls]}var Mr=(r,e)=>{let n=Qe(te).getAccessToken();if(n&&!r.url.includes("api.github.com")){let i=r.clone({headers:r.headers.set("Authorization",`Bearer ${n}`)});return e(i)}return e(r)};var Wt=class r{constructor(e){this.authService=e;this.authService.currentUser$.subscribe(t=>{this.currentLayoutSubject.next(t?"main":"auth")})}currentLayoutSubject=new ye("auth");currentLayout$=this.currentLayoutSubject.asObservable();setLayout(e){this.currentLayoutSubject.next(e)}getCurrentLayout(){return this.currentLayoutSubject.value}static \u0275fac=function(t){return new(t||r)(de(te))};static \u0275prov=W({token:r,factory:r.\u0275fac,providedIn:"root"})};function cs(r,e,t){return()=>{let i=!!localStorage.getItem("current_user");if(e.setLayout(i?"main":"auth"),i){let o=window.location.pathname;(o==="/"||o==="/login")&&t.navigate(["/dashboard"])}return Promise.resolve()}}var Er={providers:[mi(Ti),si(ai([Mr])),{provide:Wn,useFactory:cs,deps:[te,Wt,be],multi:!0},Sr(),{provide:Si,useValue:{version:"current"}}]};var Gt=class r{constructor(e){this.themeStore=e}isDarkTheme=!1;ngOnInit(){this.themeStore.isDarkTheme$.subscribe(e=>{this.isDarkTheme=e})}static \u0275fac=function(t){return new(t||r)(F(Ce))};static \u0275cmp=A({type:r,selectors:[["app-root"]],decls:1,vars:0,template:function(t,n){t&1&&S(0,"router-outlet")},dependencies:[k,je,Ve],encapsulation:2})};oi(Gt,Er).catch(r=>console.error(r));
